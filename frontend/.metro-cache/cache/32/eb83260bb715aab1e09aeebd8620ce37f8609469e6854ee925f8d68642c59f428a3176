{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":108},"end":{"line":5,"column":34,"index":142}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/Platform","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dV3bI3NOD8bfMzaIniMaFGy/nn8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.useServiceWorker = useServiceWorker;\n  var _react = require(_dependencyMap[0], \"react\");\n  var _reactNativeWebDistExportsPlatform = require(_dependencyMap[1], \"react-native-web/dist/exports/Platform\");\n  var Platform = _interopDefault(_reactNativeWebDistExportsPlatform);\n  /**\n   * Service Worker Registration Hook\n   * Registers the service worker for PWA caching on web platform\n   */\n\n  function useServiceWorker() {\n    (0, _react.useEffect)(() => {\n      // Only run on web platform\n      if (Platform.default.OS !== 'web') {\n        return;\n      }\n\n      // Check if service workers are supported\n      if (!('serviceWorker' in navigator)) {\n        console.log('[SW] Service Workers not supported');\n        return;\n      }\n\n      // Register service worker\n      const registerServiceWorker = async () => {\n        try {\n          const registration = await navigator.serviceWorker.register('/api/pwa/sw.js', {\n            scope: '/'\n          });\n          console.log('[SW] Service Worker registered:', registration.scope);\n\n          // Check for updates\n          registration.addEventListener('updatefound', () => {\n            const newWorker = registration.installing;\n            console.log('[SW] Update found, installing new version...');\n            if (newWorker) {\n              newWorker.addEventListener('statechange', () => {\n                if (newWorker.state === 'installed' && navigator.serviceWorker.controller) {\n                  console.log('[SW] New version available, refresh to update');\n                }\n              });\n            }\n          });\n\n          // Check if there's already an active service worker\n          if (registration.active) {\n            console.log('[SW] Service Worker is active');\n          }\n        } catch (error) {\n          console.warn('[SW] Service Worker registration failed:', error);\n        }\n      };\n\n      // Register after window load or immediately if already loaded\n      if (document.readyState === 'complete') {\n        registerServiceWorker();\n      } else {\n        window.addEventListener('load', registerServiceWorker);\n        return () => {\n          window.removeEventListener('load', registerServiceWorker);\n        };\n      }\n    }, []);\n  }\n});","lineCount":75,"map":[[12,2,8,0,"exports"],[12,9,8,0],[12,10,8,0,"useServiceWorker"],[12,26,8,0],[12,29,8,0,"useServiceWorker"],[12,45,8,0],[13,2,5,0],[13,6,5,0,"_react"],[13,12,5,0],[13,15,5,0,"require"],[13,22,5,0],[13,23,5,0,"_dependencyMap"],[13,37,5,0],[14,2,5,34],[14,6,5,34,"_reactNativeWebDistExportsPlatform"],[14,40,5,34],[14,43,5,34,"require"],[14,50,5,34],[14,51,5,34,"_dependencyMap"],[14,65,5,34],[15,2,5,34],[15,6,5,34,"Platform"],[15,14,5,34],[15,17,5,34,"_interopDefault"],[15,32,5,34],[15,33,5,34,"_reactNativeWebDistExportsPlatform"],[15,67,5,34],[16,2,1,0],[17,0,2,0],[18,0,3,0],[19,0,4,0],[21,2,8,7],[21,11,8,16,"useServiceWorker"],[21,27,8,32,"useServiceWorker"],[21,28,8,32],[21,30,8,35],[22,4,9,2],[22,8,9,2,"useEffect"],[22,14,9,11],[22,15,9,11,"useEffect"],[22,24,9,11],[22,26,9,12],[22,32,9,18],[23,6,10,4],[24,6,11,4],[24,10,11,8,"Platform"],[24,18,11,16],[24,19,11,16,"default"],[24,26,11,16],[24,27,11,17,"OS"],[24,29,11,19],[24,34,11,24],[24,39,11,29],[24,41,11,31],[25,8,12,6],[26,6,13,4],[28,6,15,4],[29,6,16,4],[29,10,16,8],[29,12,16,10],[29,27,16,25],[29,31,16,29,"navigator"],[29,40,16,38],[29,41,16,39],[29,43,16,41],[30,8,17,6,"console"],[30,15,17,13],[30,16,17,14,"log"],[30,19,17,17],[30,20,17,18],[30,56,17,54],[30,57,17,55],[31,8,18,6],[32,6,19,4],[34,6,21,4],[35,6,22,4],[35,12,22,10,"registerServiceWorker"],[35,33,22,31],[35,36,22,34],[35,42,22,34,"registerServiceWorker"],[35,43,22,34],[35,48,22,46],[36,8,23,6],[36,12,23,10],[37,10,24,8],[37,16,24,14,"registration"],[37,28,24,26],[37,31,24,29],[37,37,24,35,"navigator"],[37,46,24,44],[37,47,24,45,"serviceWorker"],[37,60,24,58],[37,61,24,59,"register"],[37,69,24,67],[37,70,24,68],[37,86,24,84],[37,88,24,86],[38,12,25,10,"scope"],[38,17,25,15],[38,19,25,17],[39,10,26,8],[39,11,26,9],[39,12,26,10],[40,10,27,8,"console"],[40,17,27,15],[40,18,27,16,"log"],[40,21,27,19],[40,22,27,20],[40,55,27,53],[40,57,27,55,"registration"],[40,69,27,67],[40,70,27,68,"scope"],[40,75,27,73],[40,76,27,74],[42,10,29,8],[43,10,30,8,"registration"],[43,22,30,20],[43,23,30,21,"addEventListener"],[43,39,30,37],[43,40,30,38],[43,53,30,51],[43,55,30,53],[43,61,30,59],[44,12,31,10],[44,18,31,16,"newWorker"],[44,27,31,25],[44,30,31,28,"registration"],[44,42,31,40],[44,43,31,41,"installing"],[44,53,31,51],[45,12,32,10,"console"],[45,19,32,17],[45,20,32,18,"log"],[45,23,32,21],[45,24,32,22],[45,70,32,68],[45,71,32,69],[46,12,34,10],[46,16,34,14,"newWorker"],[46,25,34,23],[46,27,34,25],[47,14,35,12,"newWorker"],[47,23,35,21],[47,24,35,22,"addEventListener"],[47,40,35,38],[47,41,35,39],[47,54,35,52],[47,56,35,54],[47,62,35,60],[48,16,36,14],[48,20,36,18,"newWorker"],[48,29,36,27],[48,30,36,28,"state"],[48,35,36,33],[48,40,36,38],[48,51,36,49],[48,55,36,53,"navigator"],[48,64,36,62],[48,65,36,63,"serviceWorker"],[48,78,36,76],[48,79,36,77,"controller"],[48,89,36,87],[48,91,36,89],[49,18,37,16,"console"],[49,25,37,23],[49,26,37,24,"log"],[49,29,37,27],[49,30,37,28],[49,77,37,75],[49,78,37,76],[50,16,38,14],[51,14,39,12],[51,15,39,13],[51,16,39,14],[52,12,40,10],[53,10,41,8],[53,11,41,9],[53,12,41,10],[55,10,43,8],[56,10,44,8],[56,14,44,12,"registration"],[56,26,44,24],[56,27,44,25,"active"],[56,33,44,31],[56,35,44,33],[57,12,45,10,"console"],[57,19,45,17],[57,20,45,18,"log"],[57,23,45,21],[57,24,45,22],[57,55,45,53],[57,56,45,54],[58,10,46,8],[59,8,48,6],[59,9,48,7],[59,10,48,8],[59,17,48,15,"error"],[59,22,48,20],[59,24,48,22],[60,10,49,8,"console"],[60,17,49,15],[60,18,49,16,"warn"],[60,22,49,20],[60,23,49,21],[60,65,49,63],[60,67,49,65,"error"],[60,72,49,70],[60,73,49,71],[61,8,50,6],[62,6,51,4],[62,7,51,5],[64,6,53,4],[65,6,54,4],[65,10,54,8,"document"],[65,18,54,16],[65,19,54,17,"readyState"],[65,29,54,27],[65,34,54,32],[65,44,54,42],[65,46,54,44],[66,8,55,6,"registerServiceWorker"],[66,29,55,27],[66,30,55,28],[66,31,55,29],[67,6,56,4],[67,7,56,5],[67,13,56,11],[68,8,57,6,"window"],[68,14,57,12],[68,15,57,13,"addEventListener"],[68,31,57,29],[68,32,57,30],[68,38,57,36],[68,40,57,38,"registerServiceWorker"],[68,61,57,59],[68,62,57,60],[69,8,58,6],[69,15,58,13],[69,21,58,19],[70,10,59,8,"window"],[70,16,59,14],[70,17,59,15,"removeEventListener"],[70,36,59,34],[70,37,59,35],[70,43,59,41],[70,45,59,43,"registerServiceWorker"],[70,66,59,64],[70,67,59,65],[71,8,60,6],[71,9,60,7],[72,6,61,4],[73,4,62,2],[73,5,62,3],[73,7,62,5],[73,9,62,7],[73,10,62,8],[74,2,63,0],[75,0,63,1],[75,3]],"functionMap":{"names":["<global>","useServiceWorker","useEffect$argument_0","registerServiceWorker","registration.addEventListener$argument_1","newWorker.addEventListener$argument_1","<anonymous>"],"mappings":"AAA;OCO;YCC;kCCa;qDCQ;sDCK;aDI;SDE;KDU;aIO;OJE;GDE;CDC"},"hasCjsExports":false},"type":"js/module"}]}