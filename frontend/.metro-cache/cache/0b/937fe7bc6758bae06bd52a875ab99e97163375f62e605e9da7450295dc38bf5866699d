{"dependencies":[{"name":"expo/virtual/env","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dgHc21cgR+buKc7O3/dChhD5JJk=","exportNames":["*"],"imports":1}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":57,"index":57}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _s = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports.useSafetyTips = useSafetyTips;\n  var _expoVirtualEnv = require(_dependencyMap[0], \"expo/virtual/env\");\n  var _react = require(_dependencyMap[1], \"react\");\n  // Default fallback tips if API fails\n  const DEFAULT_TIPS = [{\n    tip_text: 'Meet in a public place',\n    is_default: true\n  }, {\n    tip_text: \"Don't send money before seeing the item\",\n    is_default: true\n  }, {\n    tip_text: 'Check the item thoroughly before paying',\n    is_default: true\n  }];\n  function useSafetyTips(categoryId) {\n    _s();\n    const [tips, setTips] = (0, _react.useState)(DEFAULT_TIPS);\n    const [loading, setLoading] = (0, _react.useState)(false);\n    const fetchTips = (0, _react.useCallback)(async () => {\n      if (!categoryId) {\n        setTips(DEFAULT_TIPS);\n        return;\n      }\n      try {\n        setLoading(true);\n        const API_BASE = _expoVirtualEnv.env.EXPO_PUBLIC_API_URL || '';\n        const response = await fetch(`${API_BASE}/api/safety-tips/public/${categoryId}`);\n        if (response.ok) {\n          const data = await response.json();\n          if (data.tips && data.tips.length > 0) {\n            setTips(data.tips.slice(0, 5)); // Limit to 5 tips for display\n          } else {\n            setTips(DEFAULT_TIPS);\n          }\n        } else {\n          setTips(DEFAULT_TIPS);\n        }\n      } catch (error) {\n        console.error('Error fetching safety tips:', error);\n        setTips(DEFAULT_TIPS);\n      } finally {\n        setLoading(false);\n      }\n    }, [categoryId]);\n    (0, _react.useEffect)(() => {\n      fetchTips();\n    }, [fetchTips]);\n    return {\n      tips,\n      loading\n    };\n  }\n  _s(useSafetyTips, \"4TPVgXSNtEAw3uApt4iJnia+oRM=\");\n});","lineCount":61,"map":[[8,2,21,0,"exports"],[8,9,21,0],[8,10,21,0,"useSafetyTips"],[8,23,21,0],[8,26,21,0,"useSafetyTips"],[8,39,21,0],[9,2,59,1],[9,6,59,1,"_expoVirtualEnv"],[9,21,59,1],[9,24,59,1,"require"],[9,31,59,1],[9,32,59,1,"_dependencyMap"],[9,46,59,1],[10,2,1,0],[10,6,1,0,"_react"],[10,12,1,0],[10,15,1,0,"require"],[10,22,1,0],[10,23,1,0,"_dependencyMap"],[10,37,1,0],[11,2,14,0],[12,2,15,0],[12,8,15,6,"DEFAULT_TIPS"],[12,20,15,18],[12,23,15,21],[12,24,16,2],[13,4,16,4,"tip_text"],[13,12,16,12],[13,14,16,14],[13,38,16,38],[14,4,16,40,"is_default"],[14,14,16,50],[14,16,16,52],[15,2,16,57],[15,3,16,58],[15,5,17,2],[16,4,17,4,"tip_text"],[16,12,17,12],[16,14,17,14],[16,55,17,55],[17,4,17,57,"is_default"],[17,14,17,67],[17,16,17,69],[18,2,17,74],[18,3,17,75],[18,5,18,2],[19,4,18,4,"tip_text"],[19,12,18,12],[19,14,18,14],[19,55,18,55],[20,4,18,57,"is_default"],[20,14,18,67],[20,16,18,69],[21,2,18,74],[21,3,18,75],[21,4,19,1],[22,2,21,7],[22,11,21,16,"useSafetyTips"],[22,24,21,29,"useSafetyTips"],[22,25,21,30,"categoryId"],[22,35,21,60],[22,37,21,62],[23,4,21,62,"_s"],[23,6,21,62],[24,4,22,2],[24,10,22,8],[24,11,22,9,"tips"],[24,15,22,13],[24,17,22,15,"setTips"],[24,24,22,22],[24,25,22,23],[24,28,22,26],[24,32,22,26,"useState"],[24,38,22,34],[24,39,22,34,"useState"],[24,47,22,34],[24,49,22,48,"DEFAULT_TIPS"],[24,61,22,60],[24,62,22,61],[25,4,23,2],[25,10,23,8],[25,11,23,9,"loading"],[25,18,23,16],[25,20,23,18,"setLoading"],[25,30,23,28],[25,31,23,29],[25,34,23,32],[25,38,23,32,"useState"],[25,44,23,40],[25,45,23,40,"useState"],[25,53,23,40],[25,55,23,41],[25,60,23,46],[25,61,23,47],[26,4,25,2],[26,10,25,8,"fetchTips"],[26,19,25,17],[26,22,25,20],[26,26,25,20,"useCallback"],[26,32,25,31],[26,33,25,31,"useCallback"],[26,44,25,31],[26,46,25,32],[26,58,25,44],[27,6,26,4],[27,10,26,8],[27,11,26,9,"categoryId"],[27,21,26,19],[27,23,26,21],[28,8,27,6,"setTips"],[28,15,27,13],[28,16,27,14,"DEFAULT_TIPS"],[28,28,27,26],[28,29,27,27],[29,8,28,6],[30,6,29,4],[31,6,31,4],[31,10,31,8],[32,8,32,6,"setLoading"],[32,18,32,16],[32,19,32,17],[32,23,32,21],[32,24,32,22],[33,8,33,6],[33,14,33,12,"API_BASE"],[33,22,33,20],[33,25,33,23,"_expoVirtualEnv"],[33,40,33,23],[33,41,33,23,"env"],[33,44,33,23],[33,45,33,23,"EXPO_PUBLIC_API_URL"],[33,64,33,23],[33,68,33,58],[33,70,33,60],[34,8,34,6],[34,14,34,12,"response"],[34,22,34,20],[34,25,34,23],[34,31,34,29,"fetch"],[34,36,34,34],[34,37,34,35],[34,40,34,38,"API_BASE"],[34,48,34,46],[34,75,34,73,"categoryId"],[34,85,34,83],[34,87,34,85],[34,88,34,86],[35,8,36,6],[35,12,36,10,"response"],[35,20,36,18],[35,21,36,19,"ok"],[35,23,36,21],[35,25,36,23],[36,10,37,8],[36,16,37,14,"data"],[36,20,37,38],[36,23,37,41],[36,29,37,47,"response"],[36,37,37,55],[36,38,37,56,"json"],[36,42,37,60],[36,43,37,61],[36,44,37,62],[37,10,38,8],[37,14,38,12,"data"],[37,18,38,16],[37,19,38,17,"tips"],[37,23,38,21],[37,27,38,25,"data"],[37,31,38,29],[37,32,38,30,"tips"],[37,36,38,34],[37,37,38,35,"length"],[37,43,38,41],[37,46,38,44],[37,47,38,45],[37,49,38,47],[38,12,39,10,"setTips"],[38,19,39,17],[38,20,39,18,"data"],[38,24,39,22],[38,25,39,23,"tips"],[38,29,39,27],[38,30,39,28,"slice"],[38,35,39,33],[38,36,39,34],[38,37,39,35],[38,39,39,37],[38,40,39,38],[38,41,39,39],[38,42,39,40],[38,43,39,41],[38,44,39,42],[39,10,40,8],[39,11,40,9],[39,17,40,15],[40,12,41,10,"setTips"],[40,19,41,17],[40,20,41,18,"DEFAULT_TIPS"],[40,32,41,30],[40,33,41,31],[41,10,42,8],[42,8,43,6],[42,9,43,7],[42,15,43,13],[43,10,44,8,"setTips"],[43,17,44,15],[43,18,44,16,"DEFAULT_TIPS"],[43,30,44,28],[43,31,44,29],[44,8,45,6],[45,6,46,4],[45,7,46,5],[45,8,46,6],[45,15,46,13,"error"],[45,20,46,18],[45,22,46,20],[46,8,47,6,"console"],[46,15,47,13],[46,16,47,14,"error"],[46,21,47,19],[46,22,47,20],[46,51,47,49],[46,53,47,51,"error"],[46,58,47,56],[46,59,47,57],[47,8,48,6,"setTips"],[47,15,48,13],[47,16,48,14,"DEFAULT_TIPS"],[47,28,48,26],[47,29,48,27],[48,6,49,4],[48,7,49,5],[48,16,49,14],[49,8,50,6,"setLoading"],[49,18,50,16],[49,19,50,17],[49,24,50,22],[49,25,50,23],[50,6,51,4],[51,4,52,2],[51,5,52,3],[51,7,52,5],[51,8,52,6,"categoryId"],[51,18,52,16],[51,19,52,17],[51,20,52,18],[52,4,54,2],[52,8,54,2,"useEffect"],[52,14,54,11],[52,15,54,11,"useEffect"],[52,24,54,11],[52,26,54,12],[52,32,54,18],[53,6,55,4,"fetchTips"],[53,15,55,13],[53,16,55,14],[53,17,55,15],[54,4,56,2],[54,5,56,3],[54,7,56,5],[54,8,56,6,"fetchTips"],[54,17,56,15],[54,18,56,16],[54,19,56,17],[55,4,58,2],[55,11,58,9],[56,6,58,11,"tips"],[56,10,58,15],[57,6,58,17,"loading"],[58,4,58,25],[58,5,58,26],[59,2,59,0],[60,2,59,1,"_s"],[60,4,59,1],[60,5,21,16,"useSafetyTips"],[60,18,21,29],[61,0,21,29],[61,3]],"functionMap":{"names":["<global>","useSafetyTips","fetchTips","useEffect$argument_0"],"mappings":"AAA;OCoB;gCCI;GD2B;YEE;GFE;CDG"},"hasCjsExports":false},"type":"js/module"}]}