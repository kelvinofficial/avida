{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":108},"end":{"line":5,"column":34,"index":142}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"react-native","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":143},"end":{"line":6,"column":40,"index":183}}],"key":"KyzuX10g6ixS9UfynhmjlvCIG3g=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _s = $RefreshSig$();\n  /**\n   * Service Worker Registration Hook\n   * Registers the service worker for PWA caching on web platform\n   */\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.useServiceWorker = useServiceWorker;\n  var _babelRuntimeHelpersAsyncToGenerator = require(_dependencyMap[0], \"@babel/runtime/helpers/asyncToGenerator\");\n  var _asyncToGenerator = _interopDefault(_babelRuntimeHelpersAsyncToGenerator);\n  var _react = require(_dependencyMap[1], \"react\");\n  var _reactNative = require(_dependencyMap[2], \"react-native\");\n  function useServiceWorker() {\n    _s();\n    (0, _react.useEffect)(() => {\n      // Only run on web platform\n      if (_reactNative.Platform.OS !== 'web') {\n        return;\n      }\n\n      // Check if service workers are supported\n      if (!('serviceWorker' in navigator)) {\n        console.log('[SW] Service Workers not supported');\n        return;\n      }\n\n      // Register service worker\n      var registerServiceWorker = /*#__PURE__*/function () {\n        var _ref = (0, _asyncToGenerator.default)(function* () {\n          try {\n            var registration = yield navigator.serviceWorker.register('/api/pwa/sw.js', {\n              scope: '/'\n            });\n            console.log('[SW] Service Worker registered:', registration.scope);\n\n            // Check for updates\n            registration.addEventListener('updatefound', () => {\n              var newWorker = registration.installing;\n              console.log('[SW] Update found, installing new version...');\n              if (newWorker) {\n                newWorker.addEventListener('statechange', () => {\n                  if (newWorker.state === 'installed' && navigator.serviceWorker.controller) {\n                    console.log('[SW] New version available, refresh to update');\n                  }\n                });\n              }\n            });\n\n            // Check if there's already an active service worker\n            if (registration.active) {\n              console.log('[SW] Service Worker is active');\n            }\n          } catch (error) {\n            console.warn('[SW] Service Worker registration failed:', error);\n          }\n        });\n        return function registerServiceWorker() {\n          return _ref.apply(this, arguments);\n        };\n      }();\n\n      // Register after window load or immediately if already loaded\n      if (document.readyState === 'complete') {\n        registerServiceWorker();\n      } else {\n        window.addEventListener('load', registerServiceWorker);\n        return () => {\n          window.removeEventListener('load', registerServiceWorker);\n        };\n      }\n    }, []);\n  }\n  _s(useServiceWorker, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n});","lineCount":83,"map":[[5,2,1,0],[6,0,2,0],[7,0,3,0],[8,0,4,0],[9,2,1,0,"Object"],[9,8,1,0],[9,9,1,0,"defineProperty"],[9,23,1,0],[9,24,1,0,"exports"],[9,31,1,0],[10,4,1,0,"value"],[10,9,1,0],[11,2,1,0],[12,2,1,0],[12,11,1,0,"_interopDefault"],[12,27,1,0,"e"],[12,28,1,0],[13,4,1,0],[13,11,1,0,"e"],[13,12,1,0],[13,16,1,0,"e"],[13,17,1,0],[13,18,1,0,"__esModule"],[13,28,1,0],[13,31,1,0,"e"],[13,32,1,0],[14,6,1,0,"default"],[14,13,1,0],[14,15,1,0,"e"],[15,4,1,0],[16,2,1,0],[17,2,8,0,"exports"],[17,9,8,0],[17,10,8,0,"useServiceWorker"],[17,26,8,0],[17,29,8,0,"useServiceWorker"],[17,45,8,0],[18,2,63,1],[18,6,63,1,"_babelRuntimeHelpersAsyncToGenerator"],[18,42,63,1],[18,45,63,1,"require"],[18,52,63,1],[18,53,63,1,"_dependencyMap"],[18,67,63,1],[19,2,63,1],[19,6,63,1,"_asyncToGenerator"],[19,23,63,1],[19,26,63,1,"_interopDefault"],[19,41,63,1],[19,42,63,1,"_babelRuntimeHelpersAsyncToGenerator"],[19,78,63,1],[20,2,5,0],[20,6,5,0,"_react"],[20,12,5,0],[20,15,5,0,"require"],[20,22,5,0],[20,23,5,0,"_dependencyMap"],[20,37,5,0],[21,2,6,0],[21,6,6,0,"_reactNative"],[21,18,6,0],[21,21,6,0,"require"],[21,28,6,0],[21,29,6,0,"_dependencyMap"],[21,43,6,0],[22,2,8,7],[22,11,8,16,"useServiceWorker"],[22,27,8,32,"useServiceWorker"],[22,28,8,32],[22,30,8,35],[23,4,8,35,"_s"],[23,6,8,35],[24,4,9,2],[24,8,9,2,"useEffect"],[24,14,9,11],[24,15,9,11,"useEffect"],[24,24,9,11],[24,26,9,12],[24,32,9,18],[25,6,10,4],[26,6,11,4],[26,10,11,8,"Platform"],[26,22,11,16],[26,23,11,16,"Platform"],[26,31,11,16],[26,32,11,17,"OS"],[26,34,11,19],[26,39,11,24],[26,44,11,29],[26,46,11,31],[27,8,12,6],[28,6,13,4],[30,6,15,4],[31,6,16,4],[31,10,16,8],[31,12,16,10],[31,27,16,25],[31,31,16,29,"navigator"],[31,40,16,38],[31,41,16,39],[31,43,16,41],[32,8,17,6,"console"],[32,15,17,13],[32,16,17,14,"log"],[32,19,17,17],[32,20,17,18],[32,56,17,54],[32,57,17,55],[33,8,18,6],[34,6,19,4],[36,6,21,4],[37,6,22,4],[37,10,22,10,"registerServiceWorker"],[37,31,22,31],[38,8,22,31],[38,12,22,31,"_ref"],[38,16,22,31],[38,23,22,31,"_asyncToGenerator"],[38,40,22,31],[38,41,22,31,"default"],[38,48,22,31],[38,50,22,34],[38,63,22,46],[39,10,23,6],[39,14,23,10],[40,12,24,8],[40,16,24,14,"registration"],[40,28,24,26],[40,37,24,35,"navigator"],[40,46,24,44],[40,47,24,45,"serviceWorker"],[40,60,24,58],[40,61,24,59,"register"],[40,69,24,67],[40,70,24,68],[40,86,24,84],[40,88,24,86],[41,14,25,10,"scope"],[41,19,25,15],[41,21,25,17],[42,12,26,8],[42,13,26,9],[42,14,26,10],[43,12,27,8,"console"],[43,19,27,15],[43,20,27,16,"log"],[43,23,27,19],[43,24,27,20],[43,57,27,53],[43,59,27,55,"registration"],[43,71,27,67],[43,72,27,68,"scope"],[43,77,27,73],[43,78,27,74],[45,12,29,8],[46,12,30,8,"registration"],[46,24,30,20],[46,25,30,21,"addEventListener"],[46,41,30,37],[46,42,30,38],[46,55,30,51],[46,57,30,53],[46,63,30,59],[47,14,31,10],[47,18,31,16,"newWorker"],[47,27,31,25],[47,30,31,28,"registration"],[47,42,31,40],[47,43,31,41,"installing"],[47,53,31,51],[48,14,32,10,"console"],[48,21,32,17],[48,22,32,18,"log"],[48,25,32,21],[48,26,32,22],[48,72,32,68],[48,73,32,69],[49,14,34,10],[49,18,34,14,"newWorker"],[49,27,34,23],[49,29,34,25],[50,16,35,12,"newWorker"],[50,25,35,21],[50,26,35,22,"addEventListener"],[50,42,35,38],[50,43,35,39],[50,56,35,52],[50,58,35,54],[50,64,35,60],[51,18,36,14],[51,22,36,18,"newWorker"],[51,31,36,27],[51,32,36,28,"state"],[51,37,36,33],[51,42,36,38],[51,53,36,49],[51,57,36,53,"navigator"],[51,66,36,62],[51,67,36,63,"serviceWorker"],[51,80,36,76],[51,81,36,77,"controller"],[51,91,36,87],[51,93,36,89],[52,20,37,16,"console"],[52,27,37,23],[52,28,37,24,"log"],[52,31,37,27],[52,32,37,28],[52,79,37,75],[52,80,37,76],[53,18,38,14],[54,16,39,12],[54,17,39,13],[54,18,39,14],[55,14,40,10],[56,12,41,8],[56,13,41,9],[56,14,41,10],[58,12,43,8],[59,12,44,8],[59,16,44,12,"registration"],[59,28,44,24],[59,29,44,25,"active"],[59,35,44,31],[59,37,44,33],[60,14,45,10,"console"],[60,21,45,17],[60,22,45,18,"log"],[60,25,45,21],[60,26,45,22],[60,57,45,53],[60,58,45,54],[61,12,46,8],[62,10,48,6],[62,11,48,7],[62,12,48,8],[62,19,48,15,"error"],[62,24,48,20],[62,26,48,22],[63,12,49,8,"console"],[63,19,49,15],[63,20,49,16,"warn"],[63,24,49,20],[63,25,49,21],[63,67,49,63],[63,69,49,65,"error"],[63,74,49,70],[63,75,49,71],[64,10,50,6],[65,8,51,4],[65,9,51,5],[66,8,51,5],[66,24,22,10,"registerServiceWorker"],[66,45,22,31,"registerServiceWorker"],[66,46,22,31],[67,10,22,31],[67,17,22,31,"_ref"],[67,21,22,31],[67,22,22,31,"apply"],[67,27,22,31],[67,34,22,31,"arguments"],[67,43,22,31],[68,8,22,31],[69,6,22,31],[69,9,51,5],[71,6,53,4],[72,6,54,4],[72,10,54,8,"document"],[72,18,54,16],[72,19,54,17,"readyState"],[72,29,54,27],[72,34,54,32],[72,44,54,42],[72,46,54,44],[73,8,55,6,"registerServiceWorker"],[73,29,55,27],[73,30,55,28],[73,31,55,29],[74,6,56,4],[74,7,56,5],[74,13,56,11],[75,8,57,6,"window"],[75,14,57,12],[75,15,57,13,"addEventListener"],[75,31,57,29],[75,32,57,30],[75,38,57,36],[75,40,57,38,"registerServiceWorker"],[75,61,57,59],[75,62,57,60],[76,8,58,6],[76,15,58,13],[76,21,58,19],[77,10,59,8,"window"],[77,16,59,14],[77,17,59,15,"removeEventListener"],[77,36,59,34],[77,37,59,35],[77,43,59,41],[77,45,59,43,"registerServiceWorker"],[77,66,59,64],[77,67,59,65],[78,8,60,6],[78,9,60,7],[79,6,61,4],[80,4,62,2],[80,5,62,3],[80,7,62,5],[80,9,62,7],[80,10,62,8],[81,2,63,0],[82,2,63,1,"_s"],[82,4,63,1],[82,5,8,16,"useServiceWorker"],[82,21,8,32],[83,0,8,32],[83,3]],"functionMap":{"names":["<global>","useServiceWorker","useEffect$argument_0","registerServiceWorker","registration.addEventListener$argument_1","newWorker.addEventListener$argument_1","<anonymous>"],"mappings":"AAA;OCO;YCC;kCCa;qDCQ;sDCK;aDI;SDE;KDU;aIO;OJE;GDE;CDC"},"hasCjsExports":false},"type":"js/module"}]}