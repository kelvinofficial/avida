{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":115},"end":{"line":5,"column":57,"index":172}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"../config/listingFormConfig","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":173},"end":{"line":6,"column":68,"index":241}}],"key":"ztDKYBL2NGzq2LvouESQ7zzA3Y4=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports.usePhotographyGuides = usePhotographyGuides;\n  exports.getPhotographyGuides = getPhotographyGuides;\n  var _react = require(_dependencyMap[0], \"react\");\n  var _configListingFormConfig = require(_dependencyMap[1], \"../config/listingFormConfig\");\n  /**\n   * Hook to fetch photography guides from the admin-managed API\n   * Falls back to static config if API fails\n   */\n\n  const API_URL = process.env.EXPO_PUBLIC_BACKEND_URL || '';\n  // Cache for guides to avoid repeated API calls\n  const guidesCache = {};\n  const CACHE_TTL = 5 * 60 * 1000; // 5 minutes\n\n  function usePhotographyGuides(categoryId) {\n    const [guides, setGuides] = (0, _react.useState)([]);\n    const [loading, setLoading] = (0, _react.useState)(false);\n    const [error, setError] = (0, _react.useState)(null);\n    const fetchGuides = (0, _react.useCallback)(async () => {\n      if (!categoryId) {\n        // Use default tips if no category selected\n        const defaultTips = _configListingFormConfig.CATEGORY_LISTING_TIPS.default?.photoTips || [];\n        setGuides(defaultTips.map((tip, index) => ({\n          id: `default-${index}`,\n          title: tip.title,\n          description: tip.description,\n          icon: tip.icon,\n          order: index\n        })));\n        return;\n      }\n\n      // Check cache first\n      const cached = guidesCache[categoryId];\n      if (cached && Date.now() - cached.timestamp < CACHE_TTL) {\n        setGuides(cached.guides);\n        return;\n      }\n      setLoading(true);\n      setError(null);\n      try {\n        const response = await fetch(`${API_URL}/api/photography-guides/public/${categoryId}`);\n        if (response.ok) {\n          const data = await response.json();\n          if (data.guides && data.guides.length > 0) {\n            // Use API guides\n            setGuides(data.guides);\n            guidesCache[categoryId] = {\n              guides: data.guides,\n              timestamp: Date.now()\n            };\n          } else {\n            // Fall back to static config\n            fallbackToStaticTips(categoryId);\n          }\n        } else {\n          // Fall back to static config\n          fallbackToStaticTips(categoryId);\n        }\n      } catch (err) {\n        console.error('Error fetching photography guides:', err);\n        setError('Failed to fetch guides');\n        // Fall back to static config\n        fallbackToStaticTips(categoryId);\n      } finally {\n        setLoading(false);\n      }\n    }, [categoryId]);\n    const fallbackToStaticTips = catId => {\n      const staticTips = _configListingFormConfig.CATEGORY_LISTING_TIPS[catId]?.photoTips || _configListingFormConfig.CATEGORY_LISTING_TIPS.default?.photoTips || [];\n      const fallbackGuides = staticTips.map((tip, index) => ({\n        id: `static-${index}`,\n        title: tip.title,\n        description: tip.description,\n        icon: tip.icon,\n        order: index\n      }));\n      setGuides(fallbackGuides);\n    };\n    (0, _react.useEffect)(() => {\n      fetchGuides();\n    }, [fetchGuides]);\n    return {\n      guides,\n      loading,\n      error,\n      refetch: fetchGuides\n    };\n  }\n\n  /**\n   * Get photography guides for a category (can be called outside of hooks)\n   * Returns a promise that resolves to guides array\n   */\n  async function getPhotographyGuides(categoryId) {\n    // Check cache first\n    const cached = guidesCache[categoryId];\n    if (cached && Date.now() - cached.timestamp < CACHE_TTL) {\n      return cached.guides;\n    }\n    try {\n      const response = await fetch(`${API_URL}/api/photography-guides/public/${categoryId}`);\n      if (response.ok) {\n        const data = await response.json();\n        if (data.guides && data.guides.length > 0) {\n          guidesCache[categoryId] = {\n            guides: data.guides,\n            timestamp: Date.now()\n          };\n          return data.guides;\n        }\n      }\n    } catch (err) {\n      console.error('Error fetching photography guides:', err);\n    }\n\n    // Fall back to static config\n    const staticTips = _configListingFormConfig.CATEGORY_LISTING_TIPS[categoryId]?.photoTips || _configListingFormConfig.CATEGORY_LISTING_TIPS.default?.photoTips || [];\n    return staticTips.map((tip, index) => ({\n      id: `static-${index}`,\n      title: tip.title,\n      description: tip.description,\n      icon: tip.icon,\n      order: index\n    }));\n  }\n});","lineCount":133,"map":[[7,2,28,0,"exports"],[7,9,28,0],[7,10,28,0,"usePhotographyGuides"],[7,30,28,0],[7,33,28,0,"usePhotographyGuides"],[7,53,28,0],[8,2,111,0,"exports"],[8,9,111,0],[8,10,111,0,"getPhotographyGuides"],[8,30,111,0],[8,33,111,0,"getPhotographyGuides"],[8,53,111,0],[9,2,5,0],[9,6,5,0,"_react"],[9,12,5,0],[9,15,5,0,"require"],[9,22,5,0],[9,23,5,0,"_dependencyMap"],[9,37,5,0],[10,2,6,0],[10,6,6,0,"_configListingFormConfig"],[10,30,6,0],[10,33,6,0,"require"],[10,40,6,0],[10,41,6,0,"_dependencyMap"],[10,55,6,0],[11,2,1,0],[12,0,2,0],[13,0,3,0],[14,0,4,0],[16,2,8,0],[16,8,8,6,"API_URL"],[16,15,8,13],[16,18,8,16,"process"],[16,25,8,23],[16,26,8,24,"env"],[16,29,8,27],[16,30,8,28,"EXPO_PUBLIC_BACKEND_URL"],[16,53,8,51],[16,57,8,55],[16,59,8,57],[17,2,24,0],[18,2,25,0],[18,8,25,6,"guidesCache"],[18,19,25,84],[18,22,25,87],[18,23,25,88],[18,24,25,89],[19,2,26,0],[19,8,26,6,"CACHE_TTL"],[19,17,26,15],[19,20,26,18],[19,21,26,19],[19,24,26,22],[19,26,26,24],[19,29,26,27],[19,33,26,31],[19,34,26,32],[19,35,26,33],[21,2,28,7],[21,11,28,16,"usePhotographyGuides"],[21,31,28,36,"usePhotographyGuides"],[21,32,28,37,"categoryId"],[21,42,28,67],[21,44,28,69],[22,4,29,2],[22,10,29,8],[22,11,29,9,"guides"],[22,17,29,15],[22,19,29,17,"setGuides"],[22,28,29,26],[22,29,29,27],[22,32,29,30],[22,36,29,30,"useState"],[22,42,29,38],[22,43,29,38,"useState"],[22,51,29,38],[22,53,29,59],[22,55,29,61],[22,56,29,62],[23,4,30,2],[23,10,30,8],[23,11,30,9,"loading"],[23,18,30,16],[23,20,30,18,"setLoading"],[23,30,30,28],[23,31,30,29],[23,34,30,32],[23,38,30,32,"useState"],[23,44,30,40],[23,45,30,40,"useState"],[23,53,30,40],[23,55,30,41],[23,60,30,46],[23,61,30,47],[24,4,31,2],[24,10,31,8],[24,11,31,9,"error"],[24,16,31,14],[24,18,31,16,"setError"],[24,26,31,24],[24,27,31,25],[24,30,31,28],[24,34,31,28,"useState"],[24,40,31,36],[24,41,31,36,"useState"],[24,49,31,36],[24,51,31,52],[24,55,31,56],[24,56,31,57],[25,4,33,2],[25,10,33,8,"fetchGuides"],[25,21,33,19],[25,24,33,22],[25,28,33,22,"useCallback"],[25,34,33,33],[25,35,33,33,"useCallback"],[25,46,33,33],[25,48,33,34],[25,60,33,46],[26,6,34,4],[26,10,34,8],[26,11,34,9,"categoryId"],[26,21,34,19],[26,23,34,21],[27,8,35,6],[28,8,36,6],[28,14,36,12,"defaultTips"],[28,25,36,23],[28,28,36,26,"CATEGORY_LISTING_TIPS"],[28,52,36,47],[28,53,36,47,"CATEGORY_LISTING_TIPS"],[28,74,36,47],[28,75,36,48,"default"],[28,82,36,55],[28,84,36,57,"photoTips"],[28,93,36,66],[28,97,36,70],[28,99,36,72],[29,8,37,6,"setGuides"],[29,17,37,15],[29,18,37,16,"defaultTips"],[29,29,37,27],[29,30,37,28,"map"],[29,33,37,31],[29,34,37,32],[29,35,37,33,"tip"],[29,38,37,36],[29,40,37,38,"index"],[29,45,37,43],[29,51,37,49],[30,10,38,8,"id"],[30,12,38,10],[30,14,38,12],[30,25,38,23,"index"],[30,30,38,28],[30,32,38,30],[31,10,39,8,"title"],[31,15,39,13],[31,17,39,15,"tip"],[31,20,39,18],[31,21,39,19,"title"],[31,26,39,24],[32,10,40,8,"description"],[32,21,40,19],[32,23,40,21,"tip"],[32,26,40,24],[32,27,40,25,"description"],[32,38,40,36],[33,10,41,8,"icon"],[33,14,41,12],[33,16,41,14,"tip"],[33,19,41,17],[33,20,41,18,"icon"],[33,24,41,22],[34,10,42,8,"order"],[34,15,42,13],[34,17,42,15,"index"],[35,8,43,6],[35,9,43,7],[35,10,43,8],[35,11,43,9],[35,12,43,10],[36,8,44,6],[37,6,45,4],[39,6,47,4],[40,6,48,4],[40,12,48,10,"cached"],[40,18,48,16],[40,21,48,19,"guidesCache"],[40,32,48,30],[40,33,48,31,"categoryId"],[40,43,48,41],[40,44,48,42],[41,6,49,4],[41,10,49,8,"cached"],[41,16,49,14],[41,20,49,18,"Date"],[41,24,49,22],[41,25,49,23,"now"],[41,28,49,26],[41,29,49,27],[41,30,49,28],[41,33,49,31,"cached"],[41,39,49,37],[41,40,49,38,"timestamp"],[41,49,49,47],[41,52,49,50,"CACHE_TTL"],[41,61,49,59],[41,63,49,61],[42,8,50,6,"setGuides"],[42,17,50,15],[42,18,50,16,"cached"],[42,24,50,22],[42,25,50,23,"guides"],[42,31,50,29],[42,32,50,30],[43,8,51,6],[44,6,52,4],[45,6,54,4,"setLoading"],[45,16,54,14],[45,17,54,15],[45,21,54,19],[45,22,54,20],[46,6,55,4,"setError"],[46,14,55,12],[46,15,55,13],[46,19,55,17],[46,20,55,18],[47,6,57,4],[47,10,57,8],[48,8,58,6],[48,14,58,12,"response"],[48,22,58,20],[48,25,58,23],[48,31,58,29,"fetch"],[48,36,58,34],[48,37,58,35],[48,40,58,38,"API_URL"],[48,47,58,45],[48,81,58,79,"categoryId"],[48,91,58,89],[48,93,58,91],[48,94,58,92],[49,8,60,6],[49,12,60,10,"response"],[49,20,60,18],[49,21,60,19,"ok"],[49,23,60,21],[49,25,60,23],[50,10,61,8],[50,16,61,14,"data"],[50,20,61,45],[50,23,61,48],[50,29,61,54,"response"],[50,37,61,62],[50,38,61,63,"json"],[50,42,61,67],[50,43,61,68],[50,44,61,69],[51,10,63,8],[51,14,63,12,"data"],[51,18,63,16],[51,19,63,17,"guides"],[51,25,63,23],[51,29,63,27,"data"],[51,33,63,31],[51,34,63,32,"guides"],[51,40,63,38],[51,41,63,39,"length"],[51,47,63,45],[51,50,63,48],[51,51,63,49],[51,53,63,51],[52,12,64,10],[53,12,65,10,"setGuides"],[53,21,65,19],[53,22,65,20,"data"],[53,26,65,24],[53,27,65,25,"guides"],[53,33,65,31],[53,34,65,32],[54,12,66,10,"guidesCache"],[54,23,66,21],[54,24,66,22,"categoryId"],[54,34,66,32],[54,35,66,33],[54,38,66,36],[55,14,66,38,"guides"],[55,20,66,44],[55,22,66,46,"data"],[55,26,66,50],[55,27,66,51,"guides"],[55,33,66,57],[56,14,66,59,"timestamp"],[56,23,66,68],[56,25,66,70,"Date"],[56,29,66,74],[56,30,66,75,"now"],[56,33,66,78],[56,34,66,79],[57,12,66,81],[57,13,66,82],[58,10,67,8],[58,11,67,9],[58,17,67,15],[59,12,68,10],[60,12,69,10,"fallbackToStaticTips"],[60,32,69,30],[60,33,69,31,"categoryId"],[60,43,69,41],[60,44,69,42],[61,10,70,8],[62,8,71,6],[62,9,71,7],[62,15,71,13],[63,10,72,8],[64,10,73,8,"fallbackToStaticTips"],[64,30,73,28],[64,31,73,29,"categoryId"],[64,41,73,39],[64,42,73,40],[65,8,74,6],[66,6,75,4],[66,7,75,5],[66,8,75,6],[66,15,75,13,"err"],[66,18,75,16],[66,20,75,18],[67,8,76,6,"console"],[67,15,76,13],[67,16,76,14,"error"],[67,21,76,19],[67,22,76,20],[67,58,76,56],[67,60,76,58,"err"],[67,63,76,61],[67,64,76,62],[68,8,77,6,"setError"],[68,16,77,14],[68,17,77,15],[68,41,77,39],[68,42,77,40],[69,8,78,6],[70,8,79,6,"fallbackToStaticTips"],[70,28,79,26],[70,29,79,27,"categoryId"],[70,39,79,37],[70,40,79,38],[71,6,80,4],[71,7,80,5],[71,16,80,14],[72,8,81,6,"setLoading"],[72,18,81,16],[72,19,81,17],[72,24,81,22],[72,25,81,23],[73,6,82,4],[74,4,83,2],[74,5,83,3],[74,7,83,5],[74,8,83,6,"categoryId"],[74,18,83,16],[74,19,83,17],[74,20,83,18],[75,4,85,2],[75,10,85,8,"fallbackToStaticTips"],[75,30,85,28],[75,33,85,32,"catId"],[75,38,85,45],[75,42,85,50],[76,6,86,4],[76,12,86,10,"staticTips"],[76,22,86,20],[76,25,86,23,"CATEGORY_LISTING_TIPS"],[76,49,86,44],[76,50,86,44,"CATEGORY_LISTING_TIPS"],[76,71,86,44],[76,72,86,45,"catId"],[76,77,86,50],[76,78,86,51],[76,80,86,53,"photoTips"],[76,89,86,62],[76,93,87,23,"CATEGORY_LISTING_TIPS"],[76,117,87,44],[76,118,87,44,"CATEGORY_LISTING_TIPS"],[76,139,87,44],[76,140,87,45,"default"],[76,147,87,52],[76,149,87,54,"photoTips"],[76,158,87,63],[76,162,87,67],[76,164,87,69],[77,6,89,4],[77,12,89,10,"fallbackGuides"],[77,26,89,24],[77,29,89,27,"staticTips"],[77,39,89,37],[77,40,89,38,"map"],[77,43,89,41],[77,44,89,42],[77,45,89,43,"tip"],[77,48,89,46],[77,50,89,48,"index"],[77,55,89,53],[77,61,89,59],[78,8,90,6,"id"],[78,10,90,8],[78,12,90,10],[78,22,90,20,"index"],[78,27,90,25],[78,29,90,27],[79,8,91,6,"title"],[79,13,91,11],[79,15,91,13,"tip"],[79,18,91,16],[79,19,91,17,"title"],[79,24,91,22],[80,8,92,6,"description"],[80,19,92,17],[80,21,92,19,"tip"],[80,24,92,22],[80,25,92,23,"description"],[80,36,92,34],[81,8,93,6,"icon"],[81,12,93,10],[81,14,93,12,"tip"],[81,17,93,15],[81,18,93,16,"icon"],[81,22,93,20],[82,8,94,6,"order"],[82,13,94,11],[82,15,94,13,"index"],[83,6,95,4],[83,7,95,5],[83,8,95,6],[83,9,95,7],[84,6,97,4,"setGuides"],[84,15,97,13],[84,16,97,14,"fallbackGuides"],[84,30,97,28],[84,31,97,29],[85,4,98,2],[85,5,98,3],[86,4,100,2],[86,8,100,2,"useEffect"],[86,14,100,11],[86,15,100,11,"useEffect"],[86,24,100,11],[86,26,100,12],[86,32,100,18],[87,6,101,4,"fetchGuides"],[87,17,101,15],[87,18,101,16],[87,19,101,17],[88,4,102,2],[88,5,102,3],[88,7,102,5],[88,8,102,6,"fetchGuides"],[88,19,102,17],[88,20,102,18],[88,21,102,19],[89,4,104,2],[89,11,104,9],[90,6,104,11,"guides"],[90,12,104,17],[91,6,104,19,"loading"],[91,13,104,26],[92,6,104,28,"error"],[92,11,104,33],[93,6,104,35,"refetch"],[93,13,104,42],[93,15,104,44,"fetchGuides"],[94,4,104,56],[94,5,104,57],[95,2,105,0],[97,2,107,0],[98,0,108,0],[99,0,109,0],[100,0,110,0],[101,2,111,7],[101,17,111,22,"getPhotographyGuides"],[101,37,111,42,"getPhotographyGuides"],[101,38,111,43,"categoryId"],[101,48,111,61],[101,50,111,92],[102,4,112,2],[103,4,113,2],[103,10,113,8,"cached"],[103,16,113,14],[103,19,113,17,"guidesCache"],[103,30,113,28],[103,31,113,29,"categoryId"],[103,41,113,39],[103,42,113,40],[104,4,114,2],[104,8,114,6,"cached"],[104,14,114,12],[104,18,114,16,"Date"],[104,22,114,20],[104,23,114,21,"now"],[104,26,114,24],[104,27,114,25],[104,28,114,26],[104,31,114,29,"cached"],[104,37,114,35],[104,38,114,36,"timestamp"],[104,47,114,45],[104,50,114,48,"CACHE_TTL"],[104,59,114,57],[104,61,114,59],[105,6,115,4],[105,13,115,11,"cached"],[105,19,115,17],[105,20,115,18,"guides"],[105,26,115,24],[106,4,116,2],[107,4,118,2],[107,8,118,6],[108,6,119,4],[108,12,119,10,"response"],[108,20,119,18],[108,23,119,21],[108,29,119,27,"fetch"],[108,34,119,32],[108,35,119,33],[108,38,119,36,"API_URL"],[108,45,119,43],[108,79,119,77,"categoryId"],[108,89,119,87],[108,91,119,89],[108,92,119,90],[109,6,121,4],[109,10,121,8,"response"],[109,18,121,16],[109,19,121,17,"ok"],[109,21,121,19],[109,23,121,21],[110,8,122,6],[110,14,122,12,"data"],[110,18,122,43],[110,21,122,46],[110,27,122,52,"response"],[110,35,122,60],[110,36,122,61,"json"],[110,40,122,65],[110,41,122,66],[110,42,122,67],[111,8,124,6],[111,12,124,10,"data"],[111,16,124,14],[111,17,124,15,"guides"],[111,23,124,21],[111,27,124,25,"data"],[111,31,124,29],[111,32,124,30,"guides"],[111,38,124,36],[111,39,124,37,"length"],[111,45,124,43],[111,48,124,46],[111,49,124,47],[111,51,124,49],[112,10,125,8,"guidesCache"],[112,21,125,19],[112,22,125,20,"categoryId"],[112,32,125,30],[112,33,125,31],[112,36,125,34],[113,12,125,36,"guides"],[113,18,125,42],[113,20,125,44,"data"],[113,24,125,48],[113,25,125,49,"guides"],[113,31,125,55],[114,12,125,57,"timestamp"],[114,21,125,66],[114,23,125,68,"Date"],[114,27,125,72],[114,28,125,73,"now"],[114,31,125,76],[114,32,125,77],[115,10,125,79],[115,11,125,80],[116,10,126,8],[116,17,126,15,"data"],[116,21,126,19],[116,22,126,20,"guides"],[116,28,126,26],[117,8,127,6],[118,6,128,4],[119,4,129,2],[119,5,129,3],[119,6,129,4],[119,13,129,11,"err"],[119,16,129,14],[119,18,129,16],[120,6,130,4,"console"],[120,13,130,11],[120,14,130,12,"error"],[120,19,130,17],[120,20,130,18],[120,56,130,54],[120,58,130,56,"err"],[120,61,130,59],[120,62,130,60],[121,4,131,2],[123,4,133,2],[124,4,134,2],[124,10,134,8,"staticTips"],[124,20,134,18],[124,23,134,21,"CATEGORY_LISTING_TIPS"],[124,47,134,42],[124,48,134,42,"CATEGORY_LISTING_TIPS"],[124,69,134,42],[124,70,134,43,"categoryId"],[124,80,134,53],[124,81,134,54],[124,83,134,56,"photoTips"],[124,92,134,65],[124,96,135,21,"CATEGORY_LISTING_TIPS"],[124,120,135,42],[124,121,135,42,"CATEGORY_LISTING_TIPS"],[124,142,135,42],[124,143,135,43,"default"],[124,150,135,50],[124,152,135,52,"photoTips"],[124,161,135,61],[124,165,135,65],[124,167,135,67],[125,4,137,2],[125,11,137,9,"staticTips"],[125,21,137,19],[125,22,137,20,"map"],[125,25,137,23],[125,26,137,24],[125,27,137,25,"tip"],[125,30,137,28],[125,32,137,30,"index"],[125,37,137,35],[125,43,137,41],[126,6,138,4,"id"],[126,8,138,6],[126,10,138,8],[126,20,138,18,"index"],[126,25,138,23],[126,27,138,25],[127,6,139,4,"title"],[127,11,139,9],[127,13,139,11,"tip"],[127,16,139,14],[127,17,139,15,"title"],[127,22,139,20],[128,6,140,4,"description"],[128,17,140,15],[128,19,140,17,"tip"],[128,22,140,20],[128,23,140,21,"description"],[128,34,140,32],[129,6,141,4,"icon"],[129,10,141,8],[129,12,141,10,"tip"],[129,15,141,13],[129,16,141,14,"icon"],[129,20,141,18],[130,6,142,4,"order"],[130,11,142,9],[130,13,142,11,"index"],[131,4,143,2],[131,5,143,3],[131,6,143,4],[131,7,143,5],[132,2,144,0],[133,0,144,1],[133,3]],"functionMap":{"names":["<global>","usePhotographyGuides","fetchGuides","defaultTips.map$argument_0","fallbackToStaticTips","staticTips.map$argument_0","useEffect$argument_0","getPhotographyGuides"],"mappings":"AAA;OC2B;kCCK;gCCI;QDM;GDwC;+BGE;0CCI;MDM;GHG;YKE;GLE;CDG;OOM;wBF0B;IEM;CPC"},"hasCjsExports":false},"type":"js/module"}]}