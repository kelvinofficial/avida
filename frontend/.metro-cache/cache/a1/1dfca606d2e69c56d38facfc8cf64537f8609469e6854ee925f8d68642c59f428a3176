{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":108},"end":{"line":5,"column":34,"index":142}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/Platform","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dV3bI3NOD8bfMzaIniMaFGy/nn8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _s = $RefreshSig$();\n  /**\n   * Service Worker Registration Hook\n   * Registers the service worker for PWA caching on web platform\n   */\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.useServiceWorker = useServiceWorker;\n  var _react = require(_dependencyMap[0], \"react\");\n  var _reactNativeWebDistExportsPlatform = require(_dependencyMap[1], \"react-native-web/dist/exports/Platform\");\n  var Platform = _interopDefault(_reactNativeWebDistExportsPlatform);\n  function useServiceWorker() {\n    _s();\n    (0, _react.useEffect)(() => {\n      // Only run on web platform\n      if (Platform.default.OS !== 'web') {\n        return;\n      }\n\n      // Check if service workers are supported\n      if (!('serviceWorker' in navigator)) {\n        console.log('[SW] Service Workers not supported');\n        return;\n      }\n\n      // Register service worker\n      const registerServiceWorker = async () => {\n        try {\n          const registration = await navigator.serviceWorker.register('/api/pwa/sw.js', {\n            scope: '/'\n          });\n          console.log('[SW] Service Worker registered:', registration.scope);\n\n          // Check for updates\n          registration.addEventListener('updatefound', () => {\n            const newWorker = registration.installing;\n            console.log('[SW] Update found, installing new version...');\n            if (newWorker) {\n              newWorker.addEventListener('statechange', () => {\n                if (newWorker.state === 'installed' && navigator.serviceWorker.controller) {\n                  console.log('[SW] New version available, refresh to update');\n                }\n              });\n            }\n          });\n\n          // Check if there's already an active service worker\n          if (registration.active) {\n            console.log('[SW] Service Worker is active');\n          }\n        } catch (error) {\n          console.warn('[SW] Service Worker registration failed:', error);\n        }\n      };\n\n      // Register after window load or immediately if already loaded\n      if (document.readyState === 'complete') {\n        registerServiceWorker();\n      } else {\n        window.addEventListener('load', registerServiceWorker);\n        return () => {\n          window.removeEventListener('load', registerServiceWorker);\n        };\n      }\n    }, []);\n  }\n  _s(useServiceWorker, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n});","lineCount":77,"map":[[5,2,1,0],[6,0,2,0],[7,0,3,0],[8,0,4,0],[9,2,1,0,"Object"],[9,8,1,0],[9,9,1,0,"defineProperty"],[9,23,1,0],[9,24,1,0,"exports"],[9,31,1,0],[10,4,1,0,"value"],[10,9,1,0],[11,2,1,0],[12,2,1,0],[12,11,1,0,"_interopDefault"],[12,27,1,0,"e"],[12,28,1,0],[13,4,1,0],[13,11,1,0,"e"],[13,12,1,0],[13,16,1,0,"e"],[13,17,1,0],[13,18,1,0,"__esModule"],[13,28,1,0],[13,31,1,0,"e"],[13,32,1,0],[14,6,1,0,"default"],[14,13,1,0],[14,15,1,0,"e"],[15,4,1,0],[16,2,1,0],[17,2,8,0,"exports"],[17,9,8,0],[17,10,8,0,"useServiceWorker"],[17,26,8,0],[17,29,8,0,"useServiceWorker"],[17,45,8,0],[18,2,5,0],[18,6,5,0,"_react"],[18,12,5,0],[18,15,5,0,"require"],[18,22,5,0],[18,23,5,0,"_dependencyMap"],[18,37,5,0],[19,2,5,34],[19,6,5,34,"_reactNativeWebDistExportsPlatform"],[19,40,5,34],[19,43,5,34,"require"],[19,50,5,34],[19,51,5,34,"_dependencyMap"],[19,65,5,34],[20,2,5,34],[20,6,5,34,"Platform"],[20,14,5,34],[20,17,5,34,"_interopDefault"],[20,32,5,34],[20,33,5,34,"_reactNativeWebDistExportsPlatform"],[20,67,5,34],[21,2,8,7],[21,11,8,16,"useServiceWorker"],[21,27,8,32,"useServiceWorker"],[21,28,8,32],[21,30,8,35],[22,4,8,35,"_s"],[22,6,8,35],[23,4,9,2],[23,8,9,2,"useEffect"],[23,14,9,11],[23,15,9,11,"useEffect"],[23,24,9,11],[23,26,9,12],[23,32,9,18],[24,6,10,4],[25,6,11,4],[25,10,11,8,"Platform"],[25,18,11,16],[25,19,11,16,"default"],[25,26,11,16],[25,27,11,17,"OS"],[25,29,11,19],[25,34,11,24],[25,39,11,29],[25,41,11,31],[26,8,12,6],[27,6,13,4],[29,6,15,4],[30,6,16,4],[30,10,16,8],[30,12,16,10],[30,27,16,25],[30,31,16,29,"navigator"],[30,40,16,38],[30,41,16,39],[30,43,16,41],[31,8,17,6,"console"],[31,15,17,13],[31,16,17,14,"log"],[31,19,17,17],[31,20,17,18],[31,56,17,54],[31,57,17,55],[32,8,18,6],[33,6,19,4],[35,6,21,4],[36,6,22,4],[36,12,22,10,"registerServiceWorker"],[36,33,22,31],[36,36,22,34],[36,42,22,34,"registerServiceWorker"],[36,43,22,34],[36,48,22,46],[37,8,23,6],[37,12,23,10],[38,10,24,8],[38,16,24,14,"registration"],[38,28,24,26],[38,31,24,29],[38,37,24,35,"navigator"],[38,46,24,44],[38,47,24,45,"serviceWorker"],[38,60,24,58],[38,61,24,59,"register"],[38,69,24,67],[38,70,24,68],[38,86,24,84],[38,88,24,86],[39,12,25,10,"scope"],[39,17,25,15],[39,19,25,17],[40,10,26,8],[40,11,26,9],[40,12,26,10],[41,10,27,8,"console"],[41,17,27,15],[41,18,27,16,"log"],[41,21,27,19],[41,22,27,20],[41,55,27,53],[41,57,27,55,"registration"],[41,69,27,67],[41,70,27,68,"scope"],[41,75,27,73],[41,76,27,74],[43,10,29,8],[44,10,30,8,"registration"],[44,22,30,20],[44,23,30,21,"addEventListener"],[44,39,30,37],[44,40,30,38],[44,53,30,51],[44,55,30,53],[44,61,30,59],[45,12,31,10],[45,18,31,16,"newWorker"],[45,27,31,25],[45,30,31,28,"registration"],[45,42,31,40],[45,43,31,41,"installing"],[45,53,31,51],[46,12,32,10,"console"],[46,19,32,17],[46,20,32,18,"log"],[46,23,32,21],[46,24,32,22],[46,70,32,68],[46,71,32,69],[47,12,34,10],[47,16,34,14,"newWorker"],[47,25,34,23],[47,27,34,25],[48,14,35,12,"newWorker"],[48,23,35,21],[48,24,35,22,"addEventListener"],[48,40,35,38],[48,41,35,39],[48,54,35,52],[48,56,35,54],[48,62,35,60],[49,16,36,14],[49,20,36,18,"newWorker"],[49,29,36,27],[49,30,36,28,"state"],[49,35,36,33],[49,40,36,38],[49,51,36,49],[49,55,36,53,"navigator"],[49,64,36,62],[49,65,36,63,"serviceWorker"],[49,78,36,76],[49,79,36,77,"controller"],[49,89,36,87],[49,91,36,89],[50,18,37,16,"console"],[50,25,37,23],[50,26,37,24,"log"],[50,29,37,27],[50,30,37,28],[50,77,37,75],[50,78,37,76],[51,16,38,14],[52,14,39,12],[52,15,39,13],[52,16,39,14],[53,12,40,10],[54,10,41,8],[54,11,41,9],[54,12,41,10],[56,10,43,8],[57,10,44,8],[57,14,44,12,"registration"],[57,26,44,24],[57,27,44,25,"active"],[57,33,44,31],[57,35,44,33],[58,12,45,10,"console"],[58,19,45,17],[58,20,45,18,"log"],[58,23,45,21],[58,24,45,22],[58,55,45,53],[58,56,45,54],[59,10,46,8],[60,8,48,6],[60,9,48,7],[60,10,48,8],[60,17,48,15,"error"],[60,22,48,20],[60,24,48,22],[61,10,49,8,"console"],[61,17,49,15],[61,18,49,16,"warn"],[61,22,49,20],[61,23,49,21],[61,65,49,63],[61,67,49,65,"error"],[61,72,49,70],[61,73,49,71],[62,8,50,6],[63,6,51,4],[63,7,51,5],[65,6,53,4],[66,6,54,4],[66,10,54,8,"document"],[66,18,54,16],[66,19,54,17,"readyState"],[66,29,54,27],[66,34,54,32],[66,44,54,42],[66,46,54,44],[67,8,55,6,"registerServiceWorker"],[67,29,55,27],[67,30,55,28],[67,31,55,29],[68,6,56,4],[68,7,56,5],[68,13,56,11],[69,8,57,6,"window"],[69,14,57,12],[69,15,57,13,"addEventListener"],[69,31,57,29],[69,32,57,30],[69,38,57,36],[69,40,57,38,"registerServiceWorker"],[69,61,57,59],[69,62,57,60],[70,8,58,6],[70,15,58,13],[70,21,58,19],[71,10,59,8,"window"],[71,16,59,14],[71,17,59,15,"removeEventListener"],[71,36,59,34],[71,37,59,35],[71,43,59,41],[71,45,59,43,"registerServiceWorker"],[71,66,59,64],[71,67,59,65],[72,8,60,6],[72,9,60,7],[73,6,61,4],[74,4,62,2],[74,5,62,3],[74,7,62,5],[74,9,62,7],[74,10,62,8],[75,2,63,0],[76,2,63,1,"_s"],[76,4,63,1],[76,5,8,16,"useServiceWorker"],[76,21,8,32],[77,0,8,32],[77,3]],"functionMap":{"names":["<global>","useServiceWorker","useEffect$argument_0","registerServiceWorker","registration.addEventListener$argument_1","newWorker.addEventListener$argument_1","<anonymous>"],"mappings":"AAA;OCO;YCC;kCCa;qDCQ;sDCK;aDI;SDE;KDU;aIO;OJE;GDE;CDC"},"hasCjsExports":false},"type":"js/module"}]}