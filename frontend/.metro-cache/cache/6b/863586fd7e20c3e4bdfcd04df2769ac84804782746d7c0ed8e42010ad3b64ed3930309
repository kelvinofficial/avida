{"dependencies":[{"name":"zustand","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":33,"index":33}}],"key":"POPvx7yS3Y3wz+S/9OAefiXNs0Q=","exportNames":["*"],"imports":1}},{"name":"../utils/api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":34},"end":{"line":2,"column":39,"index":73}}],"key":"XoJ+jbKCrEi38eKczMqtlbk+TCk=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,e,d){\"use strict\";Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,\"useFeatureSettingsStore\",{enumerable:!0,get:function(){return n}}),Object.defineProperty(e,\"useInitializeFeatureSettings\",{enumerable:!0,get:function(){return c}});var t=r(d[0]),o=r(d[1]);const s={show_view_count:!0,show_save_count:!0,show_listing_stats:!0,show_seller_stats:!0,show_distance:!0,show_time_ago:!0,show_negotiable_badge:!0,show_featured_badge:!0,location_mode:'region',default_country:'TZ',allow_country_change:!1,currency:'TZS',currency_symbol:'TSh',currency_position:'before'},n=(0,t.create)((t,n)=>({settings:s,isLoading:!1,error:null,lastFetched:null,fetchSettings:async()=>{const c=n();if(!(c.isLoading||c.lastFetched&&Date.now()-c.lastFetched<12e4)){t({isLoading:!0,error:null});try{const n=await fetch(`${o.API_URL}/api/feature-settings`);if(!n.ok)throw new Error('Failed to fetch feature settings');const c=await n.json();console.log('[FeatureSettingsStore] Received data:',JSON.stringify(c)),console.log('[FeatureSettingsStore] location_mode:',c.location_mode);const u={...s,...c};console.log('[FeatureSettingsStore] New settings:',JSON.stringify(u)),t({settings:u,isLoading:!1,lastFetched:Date.now()})}catch(o){console.error('Error fetching feature settings:',o),t({isLoading:!1,error:o instanceof Error?o.message:'Unknown error'})}}},shouldShowViewCount:()=>n().settings.show_view_count,shouldShowSaveCount:()=>n().settings.show_save_count,shouldShowDistance:()=>n().settings.show_distance,shouldShowTimeAgo:()=>n().settings.show_time_ago,shouldShowNegotiableBadge:()=>n().settings.show_negotiable_badge,shouldShowFeaturedBadge:()=>n().settings.show_featured_badge,formatPrice:t=>{const{currency_symbol:o,currency_position:s}=n().settings,c=t.toLocaleString();return'before'===s?`${o} ${c}`:`${c} ${o}`}})),c=()=>n(t=>t.fetchSettings)});","lineCount":1,"map":[[1,90,64,0,"Object"],[1,97,64,0,"defineProperty"],[1,112,64,0,"e"],[1,114,64,0],[1,141,64,0,"enumerable"],[1,153,64,0],[1,155,64,0,"get"],[1,159,64,0],[1,177,64,0,"useFeatureSettingsStore"],[1,178,64,0],[1,182,132,0,"Object"],[1,189,132,0,"defineProperty"],[1,204,132,0,"e"],[1,206,132,0],[1,238,132,0,"enumerable"],[1,250,132,0],[1,252,132,0,"get"],[1,256,132,0],[1,274,132,0,"useInitializeFeatureSettings"],[1,275,132,0],[1,279,1,0],[1,283,1,0,"_zustand"],[1,285,1,0,"r"],[1,287,1,0,"d"],[1,289,1,0],[1,293,2,0,"_utilsApi"],[1,295,2,0,"r"],[1,297,2,0,"d"],[1,299,2,0],[1,303,5,0],[1,309,27,6,"DEFAULT_SETTINGS"],[1,311,27,42],[1,312,28,2,"show_view_count"],[1,329,28,19],[1,331,29,2,"show_save_count"],[1,348,29,19],[1,350,30,2,"show_listing_stats"],[1,370,30,22],[1,372,31,2,"show_seller_stats"],[1,391,31,21],[1,393,32,2,"show_distance"],[1,408,32,17],[1,410,33,2,"show_time_ago"],[1,425,33,17],[1,427,34,2,"show_negotiable_badge"],[1,450,34,25],[1,452,35,2,"show_featured_badge"],[1,473,35,23],[1,475,36,2,"location_mode"],[1,489,36,17],[1,498,37,2,"default_country"],[1,514,37,19],[1,519,38,2,"allow_country_change"],[1,541,38,24],[1,543,39,2,"currency"],[1,552,39,12],[1,558,40,2,"currency_symbol"],[1,574,40,19],[1,580,41,2,"currency_position"],[1,598,41,21],[1,608,64,13,"useFeatureSettingsStore"],[1,611,64,39],[1,613,64,39,"create"],[1,615,64,45,"create"],[1,623,64,68],[1,624,64,69,"set"],[1,626,64,74,"get"],[1,631,64,77],[1,632,65,2,"settings"],[1,641,65,12,"DEFAULT_SETTINGS"],[1,643,66,2,"isLoading"],[1,654,66,13],[1,656,67,2,"error"],[1,662,67,9],[1,667,68,2,"lastFetched"],[1,679,68,15],[1,684,70,2,"fetchSettings"],[1,698,70,17,"async"],[1,708,71,4],[1,714,71,10,"state"],[1,716,71,18,"get"],[1,720,74,4],[1,725,74,8,"state"],[1,727,74,14,"isLoading"],[1,738,77,8,"state"],[1,740,77,14,"lastFetched"],[1,753,77,29,"Date"],[1,758,77,34,"now"],[1,764,77,42,"state"],[1,766,77,48,"lastFetched"],[1,778,62,20],[1,784,77,4],[1,785,81,4,"set"],[1,787,81,8],[1,788,81,10,"isLoading"],[1,799,81,21],[1,801,81,27,"error"],[1,807,81,34],[1,814,83,4],[1,818,84,6],[1,824,84,12,"response"],[1,832,84,29,"fetch"],[1,838,84,35],[1,841,5,24,"API_URL"],[1,843,5,31,"API_URL"],[1,875,86,6],[1,879,86,11,"response"],[1,881,86,20,"ok"],[1,884,87,8],[1,890,87,14],[1,894,87,18,"Error"],[1,900,87,24],[1,936,90,6],[1,942,90,12,"data"],[1,950,90,25,"response"],[1,952,90,34,"json"],[1,959,91,6,"console"],[1,967,91,14,"log"],[1,971,91,18],[1,1011,91,59,"JSON"],[1,1016,91,64,"stringify"],[1,1026,91,74,"data"],[1,1030,92,6,"console"],[1,1038,92,14,"log"],[1,1042,92,18],[1,1082,92,59,"data"],[1,1084,92,64,"location_mode"],[1,1099,94,6],[1,1105,94,12,"newSettings"],[1,1107,94,26],[1,1111,94,31,"DEFAULT_SETTINGS"],[1,1116,94,52,"data"],[1,1119,95,6,"console"],[1,1127,95,14,"log"],[1,1131,95,18],[1,1170,95,58,"JSON"],[1,1175,95,63,"stringify"],[1,1185,95,73,"newSettings"],[1,1189,97,6,"set"],[1,1191,97,10],[1,1192,98,8,"settings"],[1,1201,98,18,"newSettings"],[1,1203,99,8,"isLoading"],[1,1214,99,19],[1,1216,100,8,"lastFetched"],[1,1228,100,21,"Date"],[1,1233,100,26,"now"],[1,1240,102,4],[1,1241,102,6],[1,1247,102,13,"error"],[1,1250,103,6,"console"],[1,1258,103,14,"error"],[1,1264,103,20],[1,1299,103,56,"error"],[1,1302,104,6,"set"],[1,1304,104,10],[1,1305,105,8,"isLoading"],[1,1316,105,19],[1,1318,106,8,"error"],[1,1324,106,15,"error"],[1,1337,106,32,"Error"],[1,1343,106,40,"error"],[1,1345,106,46,"message"],[1,1353,106,56],[1,1370,109,4],[1,1371,79,4],[1,1374,113,2,"shouldShowViewCount"],[1,1394,113,23,"shouldShowViewCount"],[1,1398,113,29,"get"],[1,1402,113,35,"settings"],[1,1411,113,44,"show_view_count"],[1,1427,114,2,"shouldShowSaveCount"],[1,1447,114,23,"shouldShowSaveCount"],[1,1451,114,29,"get"],[1,1455,114,35,"settings"],[1,1464,114,44,"show_save_count"],[1,1480,115,2,"shouldShowDistance"],[1,1499,115,22,"shouldShowDistance"],[1,1503,115,28,"get"],[1,1507,115,34,"settings"],[1,1516,115,43,"show_distance"],[1,1530,116,2,"shouldShowTimeAgo"],[1,1548,116,21,"shouldShowTimeAgo"],[1,1552,116,27,"get"],[1,1556,116,33,"settings"],[1,1565,116,42,"show_time_ago"],[1,1579,117,2,"shouldShowNegotiableBadge"],[1,1605,117,29,"shouldShowNegotiableBadge"],[1,1609,117,35,"get"],[1,1613,117,41,"settings"],[1,1622,117,50,"show_negotiable_badge"],[1,1644,118,2,"shouldShowFeaturedBadge"],[1,1668,118,27,"shouldShowFeaturedBadge"],[1,1672,118,33,"get"],[1,1676,118,39,"settings"],[1,1685,118,48,"show_featured_badge"],[1,1705,120,2,"formatPrice"],[1,1717,120,16,"price"],[1,1721,121,4],[1,1727,121,10,"currency_symbol"],[1,1743,121,12,"currency_symbol"],[1,1745,121,27,"currency_position"],[1,1763,121,29,"currency_position"],[1,1766,121,51,"get"],[1,1770,121,57,"settings"],[1,1779,122,10,"formattedNumber"],[1,1781,122,28,"price"],[1,1783,122,34,"toLocaleString"],[1,1800,124,4],[1,1806,124,30],[1,1817,124,8,"currency_position"],[1,1819,125,13],[1,1822,125,16,"currency_symbol"],[1,1827,125,35,"formattedNumber"],[1,1831,127,11],[1,1834,127,14,"formattedNumber"],[1,1839,127,33,"currency_symbol"],[1,1847,132,13,"useInitializeFeatureSettings"],[1,1849,132,44,"useInitializeFeatureSettings"],[1,1853,133,24,"useFeatureSettingsStore"],[1,1855,133,48,"state"],[1,1858,133,57,"state"],[1,1860,133,63,"fetchSettings"],[1,1874,135,2],[1,1877]],"functionMap":{"names":["<global>","getApiUrl","create$argument_0","fetchSettings","shouldShowViewCount","shouldShowSaveCount","shouldShowDistance","shouldShowTimeAgo","shouldShowNegotiableBadge","shouldShowFeaturedBadge","formatPrice","useInitializeFeatureSettings","useFeatureSettingsStore$argument_0"],"mappings":"AAA;kBCI,aD;oEE2D;iBCM;GDwC;uBEG,oCF;uBGC,oCH;sBIC,kCJ;qBKC,kCL;6BMC,0CN;2BOC,wCP;eQE;GRQ;EFC;4CWG;gDCC,4BD;CXE"},"hasCjsExports":false},"type":"js/module"}]}