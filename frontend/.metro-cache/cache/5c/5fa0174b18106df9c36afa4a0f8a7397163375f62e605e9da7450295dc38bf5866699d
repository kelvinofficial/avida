{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":57,"index":57}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports.useSafetyTips = useSafetyTips;\n  var _react = require(_dependencyMap[0], \"react\");\n  // Default fallback tips if API fails\n  const DEFAULT_TIPS = [{\n    tip_text: 'Meet in a public place',\n    is_default: true\n  }, {\n    tip_text: \"Don't send money before seeing the item\",\n    is_default: true\n  }, {\n    tip_text: 'Check the item thoroughly before paying',\n    is_default: true\n  }];\n  function useSafetyTips(categoryId) {\n    const [tips, setTips] = (0, _react.useState)(DEFAULT_TIPS);\n    const [loading, setLoading] = (0, _react.useState)(false);\n    const fetchTips = (0, _react.useCallback)(async () => {\n      if (!categoryId) {\n        setTips(DEFAULT_TIPS);\n        return;\n      }\n      try {\n        setLoading(true);\n        const API_BASE = process.env.EXPO_PUBLIC_API_URL || '';\n        const response = await fetch(`${API_BASE}/api/safety-tips/public/${categoryId}`);\n        if (response.ok) {\n          const data = await response.json();\n          if (data.tips && data.tips.length > 0) {\n            setTips(data.tips.slice(0, 5)); // Limit to 5 tips for display\n          } else {\n            setTips(DEFAULT_TIPS);\n          }\n        } else {\n          setTips(DEFAULT_TIPS);\n        }\n      } catch (error) {\n        console.error('Error fetching safety tips:', error);\n        setTips(DEFAULT_TIPS);\n      } finally {\n        setLoading(false);\n      }\n    }, [categoryId]);\n    (0, _react.useEffect)(() => {\n      fetchTips();\n    }, [fetchTips]);\n    return {\n      tips,\n      loading\n    };\n  }\n});","lineCount":57,"map":[[7,2,21,0,"exports"],[7,9,21,0],[7,10,21,0,"useSafetyTips"],[7,23,21,0],[7,26,21,0,"useSafetyTips"],[7,39,21,0],[8,2,1,0],[8,6,1,0,"_react"],[8,12,1,0],[8,15,1,0,"require"],[8,22,1,0],[8,23,1,0,"_dependencyMap"],[8,37,1,0],[9,2,14,0],[10,2,15,0],[10,8,15,6,"DEFAULT_TIPS"],[10,20,15,18],[10,23,15,21],[10,24,16,2],[11,4,16,4,"tip_text"],[11,12,16,12],[11,14,16,14],[11,38,16,38],[12,4,16,40,"is_default"],[12,14,16,50],[12,16,16,52],[13,2,16,57],[13,3,16,58],[13,5,17,2],[14,4,17,4,"tip_text"],[14,12,17,12],[14,14,17,14],[14,55,17,55],[15,4,17,57,"is_default"],[15,14,17,67],[15,16,17,69],[16,2,17,74],[16,3,17,75],[16,5,18,2],[17,4,18,4,"tip_text"],[17,12,18,12],[17,14,18,14],[17,55,18,55],[18,4,18,57,"is_default"],[18,14,18,67],[18,16,18,69],[19,2,18,74],[19,3,18,75],[19,4,19,1],[20,2,21,7],[20,11,21,16,"useSafetyTips"],[20,24,21,29,"useSafetyTips"],[20,25,21,30,"categoryId"],[20,35,21,60],[20,37,21,62],[21,4,22,2],[21,10,22,8],[21,11,22,9,"tips"],[21,15,22,13],[21,17,22,15,"setTips"],[21,24,22,22],[21,25,22,23],[21,28,22,26],[21,32,22,26,"useState"],[21,38,22,34],[21,39,22,34,"useState"],[21,47,22,34],[21,49,22,48,"DEFAULT_TIPS"],[21,61,22,60],[21,62,22,61],[22,4,23,2],[22,10,23,8],[22,11,23,9,"loading"],[22,18,23,16],[22,20,23,18,"setLoading"],[22,30,23,28],[22,31,23,29],[22,34,23,32],[22,38,23,32,"useState"],[22,44,23,40],[22,45,23,40,"useState"],[22,53,23,40],[22,55,23,41],[22,60,23,46],[22,61,23,47],[23,4,25,2],[23,10,25,8,"fetchTips"],[23,19,25,17],[23,22,25,20],[23,26,25,20,"useCallback"],[23,32,25,31],[23,33,25,31,"useCallback"],[23,44,25,31],[23,46,25,32],[23,58,25,44],[24,6,26,4],[24,10,26,8],[24,11,26,9,"categoryId"],[24,21,26,19],[24,23,26,21],[25,8,27,6,"setTips"],[25,15,27,13],[25,16,27,14,"DEFAULT_TIPS"],[25,28,27,26],[25,29,27,27],[26,8,28,6],[27,6,29,4],[28,6,31,4],[28,10,31,8],[29,8,32,6,"setLoading"],[29,18,32,16],[29,19,32,17],[29,23,32,21],[29,24,32,22],[30,8,33,6],[30,14,33,12,"API_BASE"],[30,22,33,20],[30,25,33,23,"process"],[30,32,33,30],[30,33,33,31,"env"],[30,36,33,34],[30,37,33,35,"EXPO_PUBLIC_API_URL"],[30,56,33,54],[30,60,33,58],[30,62,33,60],[31,8,34,6],[31,14,34,12,"response"],[31,22,34,20],[31,25,34,23],[31,31,34,29,"fetch"],[31,36,34,34],[31,37,34,35],[31,40,34,38,"API_BASE"],[31,48,34,46],[31,75,34,73,"categoryId"],[31,85,34,83],[31,87,34,85],[31,88,34,86],[32,8,36,6],[32,12,36,10,"response"],[32,20,36,18],[32,21,36,19,"ok"],[32,23,36,21],[32,25,36,23],[33,10,37,8],[33,16,37,14,"data"],[33,20,37,38],[33,23,37,41],[33,29,37,47,"response"],[33,37,37,55],[33,38,37,56,"json"],[33,42,37,60],[33,43,37,61],[33,44,37,62],[34,10,38,8],[34,14,38,12,"data"],[34,18,38,16],[34,19,38,17,"tips"],[34,23,38,21],[34,27,38,25,"data"],[34,31,38,29],[34,32,38,30,"tips"],[34,36,38,34],[34,37,38,35,"length"],[34,43,38,41],[34,46,38,44],[34,47,38,45],[34,49,38,47],[35,12,39,10,"setTips"],[35,19,39,17],[35,20,39,18,"data"],[35,24,39,22],[35,25,39,23,"tips"],[35,29,39,27],[35,30,39,28,"slice"],[35,35,39,33],[35,36,39,34],[35,37,39,35],[35,39,39,37],[35,40,39,38],[35,41,39,39],[35,42,39,40],[35,43,39,41],[35,44,39,42],[36,10,40,8],[36,11,40,9],[36,17,40,15],[37,12,41,10,"setTips"],[37,19,41,17],[37,20,41,18,"DEFAULT_TIPS"],[37,32,41,30],[37,33,41,31],[38,10,42,8],[39,8,43,6],[39,9,43,7],[39,15,43,13],[40,10,44,8,"setTips"],[40,17,44,15],[40,18,44,16,"DEFAULT_TIPS"],[40,30,44,28],[40,31,44,29],[41,8,45,6],[42,6,46,4],[42,7,46,5],[42,8,46,6],[42,15,46,13,"error"],[42,20,46,18],[42,22,46,20],[43,8,47,6,"console"],[43,15,47,13],[43,16,47,14,"error"],[43,21,47,19],[43,22,47,20],[43,51,47,49],[43,53,47,51,"error"],[43,58,47,56],[43,59,47,57],[44,8,48,6,"setTips"],[44,15,48,13],[44,16,48,14,"DEFAULT_TIPS"],[44,28,48,26],[44,29,48,27],[45,6,49,4],[45,7,49,5],[45,16,49,14],[46,8,50,6,"setLoading"],[46,18,50,16],[46,19,50,17],[46,24,50,22],[46,25,50,23],[47,6,51,4],[48,4,52,2],[48,5,52,3],[48,7,52,5],[48,8,52,6,"categoryId"],[48,18,52,16],[48,19,52,17],[48,20,52,18],[49,4,54,2],[49,8,54,2,"useEffect"],[49,14,54,11],[49,15,54,11,"useEffect"],[49,24,54,11],[49,26,54,12],[49,32,54,18],[50,6,55,4,"fetchTips"],[50,15,55,13],[50,16,55,14],[50,17,55,15],[51,4,56,2],[51,5,56,3],[51,7,56,5],[51,8,56,6,"fetchTips"],[51,17,56,15],[51,18,56,16],[51,19,56,17],[52,4,58,2],[52,11,58,9],[53,6,58,11,"tips"],[53,10,58,15],[54,6,58,17,"loading"],[55,4,58,25],[55,5,58,26],[56,2,59,0],[57,0,59,1],[57,3]],"functionMap":{"names":["<global>","useSafetyTips","fetchTips","useEffect$argument_0"],"mappings":"AAA;OCoB;gCCI;GD2B;YEE;GFE;CDG"},"hasCjsExports":false},"type":"js/module"}]}