{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":85},"end":{"line":6,"column":57,"index":142}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"../utils/storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":7,"column":0,"index":143},"end":{"line":7,"column":43,"index":186}}],"key":"rswhtWQFlk40P6/ZSXiz3NZSC0I=","exportNames":["*"],"imports":1}},{"name":"../utils/api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":8,"column":0,"index":187},"end":{"line":8,"column":45,"index":232}}],"key":"XoJ+jbKCrEi38eKczMqtlbk+TCk=","exportNames":["*"],"imports":1}},{"name":"../config/subcategories","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":9,"column":0,"index":233},"end":{"line":9,"column":78,"index":311}}],"key":"AoKg3044tH4N9yIzVnJsjVLwf40=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,e,d){\"use strict\";Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,\"default\",{enumerable:!0,get:function(){return b}}),e.useSubcategoryModal=l;var t=r(d[0]),o=r(d[1]),n=r(d[2]),c=r(d[3]);const s='@avida_recent_subcategories',u=[{id:'auto_vehicles',name:'Auto & Vehicles',icon:'car-outline'},{id:'properties',name:'Properties',icon:'business-outline'},{id:'electronics',name:'Electronics',icon:'laptop-outline'},{id:'phones_tablets',name:'Phones & Tablets',icon:'phone-portrait-outline'},{id:'home_furniture',name:'Home & Furniture',icon:'home-outline'},{id:'fashion_beauty',name:'Fashion & Beauty',icon:'shirt-outline'},{id:'jobs_services',name:'Jobs & Services',icon:'briefcase-outline'},{id:'kids_baby',name:'Kids & Baby',icon:'people-outline'},{id:'sports_hobbies',name:'Sports & Hobbies',icon:'football-outline'},{id:'pets',name:'Pets',icon:'paw-outline'},{id:'agriculture',name:'Agriculture & Food',icon:'leaf-outline'},{id:'commercial_equipment',name:'Commercial Equipment',icon:'construct-outline'},{id:'repair_construction',name:'Repair & Construction',icon:'hammer-outline'},{id:'friendship_dating',name:'Friendship & Dating',icon:'heart-outline'}];function l(){const[l,b]=(0,t.useState)(!1),[y,p]=(0,t.useState)(null),[f,h]=(0,t.useState)({}),[S,_]=(0,t.useState)(!1),[C,I]=(0,t.useState)([]),v=(0,t.useCallback)(async()=>{try{const t=await o.Storage.getItem(s);if(t){const o=JSON.parse(t),n=Date.now()-2592e6,c=o.filter(t=>t.timestamp>n).slice(0,10);I(c)}}catch(t){console.log('Error loading recent subcategories:',t)}},[]),w=(0,t.useCallback)(async(t,n,c,u,l)=>{try{const b=[{categoryId:t,categoryName:n,categoryIcon:c,subcategoryId:u,subcategoryName:l,timestamp:Date.now()},...C.filter(o=>!(o.categoryId===t&&o.subcategoryId===u))].slice(0,10);I(b),await o.Storage.setItem(s,JSON.stringify(b))}catch(t){console.log('Error saving recent subcategory:',t)}},[C]);(0,t.useEffect)(()=>{v()},[]),(0,t.useEffect)(()=>()=>{b(!1)},[]);const k=(0,t.useCallback)(async t=>{const o=u.find(o=>o.id===t);if(!o)return;const s=(0,c.getSubcategories)(t);p({id:t,name:o.name,icon:o.icon,subcategories:s}),b(!0),_(!0);try{const o=await n.categoriesApi.getSubcategoryCounts(t);h(o)}catch(t){console.log('Error fetching subcategory counts:',t),h({})}finally{_(!1)}},[]),E=(0,t.useCallback)(()=>{b(!1)},[]),P=(0,t.useCallback)(async(t,o)=>{if(b(!1),o&&y){const n=y.subcategories.find(t=>t.id===o);n&&await w(t,y.name,y.icon,o,n.name)}return o?`/category/${t}?subcategory=${o}`:`/category/${t}`},[y,w]),F=(0,t.useCallback)(t=>(b(!1),`/category/${t.categoryId}?subcategory=${t.subcategoryId}`),[]);return{showSubcategoryModal:l,selectedCategoryForSubcats:y,subcategoryCounts:f,loadingCounts:S,recentSubcategories:C,openSubcategoryModal:k,closeSubcategoryModal:E,handleSubcategorySelect:P,handleRecentSubcategoryPress:F}}var b=l});","lineCount":1,"map":[[1,90,211,0,"Object"],[1,97,211,0,"defineProperty"],[1,112,211,0,"e"],[1,114,211,0],[1,125,211,0,"enumerable"],[1,137,211,0],[1,139,211,0,"get"],[1,143,211,0],[1,161,211,0,"_default"],[1,162,211,0],[1,166,50,0,"e"],[1,168,50,0,"useSubcategoryModal"],[1,190,6,0],[1,194,6,0,"_react"],[1,196,6,0,"r"],[1,198,6,0,"d"],[1,200,6,0],[1,204,7,0,"_utilsStorage"],[1,206,7,0,"r"],[1,208,7,0,"d"],[1,210,7,0],[1,214,8,0,"_utilsApi"],[1,216,8,0,"r"],[1,218,8,0,"d"],[1,220,8,0],[1,224,9,0,"_configSubcategories"],[1,226,9,0,"r"],[1,228,9,0,"d"],[1,230,9,0],[1,234,12,0],[1,240,12,6,"RECENT_SUBCATEGORIES_KEY"],[1,242,12,33],[1,272,33,6,"FULL_CATEGORIES"],[1,274,33,24],[1,275,34,2],[1,276,34,4,"id"],[1,279,34,8],[1,295,34,25,"name"],[1,300,34,31],[1,318,34,50,"icon"],[1,323,34,56],[1,338,35,2],[1,339,35,4,"id"],[1,342,35,8],[1,355,35,22,"name"],[1,360,35,28],[1,373,35,42,"icon"],[1,378,35,48],[1,398,36,2],[1,399,36,4,"id"],[1,402,36,8],[1,416,36,23,"name"],[1,421,36,29],[1,435,36,44,"icon"],[1,440,36,50],[1,458,37,2],[1,459,37,4,"id"],[1,462,37,8],[1,479,37,26,"name"],[1,484,37,32],[1,503,37,52,"icon"],[1,508,37,58],[1,534,38,2],[1,535,38,4,"id"],[1,538,38,8],[1,555,38,26,"name"],[1,560,38,32],[1,579,38,52,"icon"],[1,584,38,58],[1,600,39,2],[1,601,39,4,"id"],[1,604,39,8],[1,621,39,26,"name"],[1,626,39,32],[1,645,39,52,"icon"],[1,650,39,58],[1,667,40,2],[1,668,40,4,"id"],[1,671,40,8],[1,687,40,25,"name"],[1,692,40,31],[1,710,40,50,"icon"],[1,715,40,56],[1,736,41,2],[1,737,41,4,"id"],[1,740,41,8],[1,752,41,21,"name"],[1,757,41,27],[1,771,41,42,"icon"],[1,776,41,48],[1,794,42,2],[1,795,42,4,"id"],[1,798,42,8],[1,815,42,26,"name"],[1,820,42,32],[1,839,42,52,"icon"],[1,844,42,58],[1,864,43,2],[1,865,43,4,"id"],[1,868,43,8],[1,875,43,16,"name"],[1,880,43,22],[1,887,43,30,"icon"],[1,892,43,36],[1,907,44,2],[1,908,44,4,"id"],[1,911,44,8],[1,925,44,23,"name"],[1,930,44,29],[1,951,44,51,"icon"],[1,956,44,57],[1,972,45,2],[1,973,45,4,"id"],[1,976,45,8],[1,999,45,32,"name"],[1,1004,45,38],[1,1027,45,62,"icon"],[1,1032,45,68],[1,1053,46,2],[1,1054,46,4,"id"],[1,1057,46,8],[1,1079,46,31,"name"],[1,1084,46,37],[1,1108,46,62,"icon"],[1,1113,46,68],[1,1131,47,2],[1,1132,47,4,"id"],[1,1135,47,8],[1,1155,47,29,"name"],[1,1160,47,35],[1,1182,47,58,"icon"],[1,1187,47,64],[1,1205,50,7],[1,1214,50,16,"useSubcategoryModal"],[1,1218,52,2],[1,1224,52,9,"showSubcategoryModal"],[1,1226,52,31,"setShowSubcategoryModal"],[1,1230,52,58],[1,1232,52,58,"useState"],[1,1234,52,66,"useState"],[1,1245,52,67],[1,1249,55,9,"selectedCategoryForSubcats"],[1,1251,55,37,"setSelectedCategoryForSubcats"],[1,1255,55,70],[1,1257,55,70,"useState"],[1,1259,55,78,"useState"],[1,1269,55,100],[1,1276,58,9,"subcategoryCounts"],[1,1278,58,28,"setSubcategoryCounts"],[1,1282,58,52],[1,1284,58,52,"useState"],[1,1286,58,60,"useState"],[1,1296,58,85],[1,1297,58,86],[1,1301,59,9,"loadingCounts"],[1,1303,59,24,"setLoadingCounts"],[1,1307,59,44],[1,1309,59,44,"useState"],[1,1311,59,52,"useState"],[1,1322,59,53],[1,1326,62,9,"recentSubcategories"],[1,1328,62,30,"setRecentSubcategories"],[1,1332,62,56],[1,1334,62,56,"useState"],[1,1336,62,64,"useState"],[1,1346,62,86],[1,1350,65,8,"loadRecentSubcategories"],[1,1353,65,34],[1,1355,65,34,"useCallback"],[1,1357,65,45,"useCallback"],[1,1370,65,46,"async"],[1,1380,66,4],[1,1384,67,6],[1,1390,67,12,"stored"],[1,1398,67,27,"Storage"],[1,1400,67,34,"Storage"],[1,1408,67,35,"getItem"],[1,1416,67,43,"RECENT_SUBCATEGORIES_KEY"],[1,1419,68,6],[1,1422,68,10,"stored"],[1,1424,68,18],[1,1425,69,8],[1,1431,69,14,"parsed"],[1,1433,69,23,"JSON"],[1,1438,69,28,"parse"],[1,1444,69,34,"stored"],[1,1447,71,14,"thirtyDaysAgo"],[1,1449,71,30,"Date"],[1,1454,71,35,"now"],[1,1460,71,40],[1,1467,72,14,"recent"],[1,1469,72,23,"parsed"],[1,1471,73,11,"filter"],[1,1478,73,19,"item"],[1,1481,73,47,"item"],[1,1483,73,52,"timestamp"],[1,1493,73,64,"thirtyDaysAgo"],[1,1496,74,11,"slice"],[1,1502,74,17],[1,1504,74,20],[1,1508,75,8,"setRecentSubcategories"],[1,1510,75,31,"recent"],[1,1512,76,6],[1,1513,77,4],[1,1514,77,6],[1,1520,77,13,"error"],[1,1523,78,6,"console"],[1,1531,78,14,"log"],[1,1535,78,18],[1,1573,78,57,"error"],[1,1575,79,4],[1,1578,80,5],[1,1582,83,8,"saveRecentSubcategory"],[1,1585,83,32],[1,1587,83,32,"useCallback"],[1,1589,83,43,"useCallback"],[1,1602,83,44,"async"],[1,1608,84,4,"categoryId"],[1,1610,85,4,"categoryName"],[1,1612,86,4,"categoryIcon"],[1,1614,87,4,"subcategoryId"],[1,1616,88,4,"subcategoryName"],[1,1621,90,4],[1,1625,91,6],[1,1631,101,12,"updated"],[1,1633,101,22],[1,1634,91,41],[1,1635,92,8,"categoryId"],[1,1648,93,8,"categoryName"],[1,1663,94,8,"categoryIcon"],[1,1678,95,8,"subcategoryId"],[1,1694,96,8,"subcategoryName"],[1,1712,97,8,"timestamp"],[1,1722,97,19,"Date"],[1,1727,97,24,"now"],[1,1737,103,11,"recentSubcategories"],[1,1739,103,31,"filter"],[1,1746,104,10,"item"],[1,1751,104,20,"item"],[1,1753,104,25,"categoryId"],[1,1766,104,40,"categoryId"],[1,1769,104,54,"item"],[1,1771,104,59,"subcategoryId"],[1,1787,104,77,"subcategoryId"],[1,1792,106,8,"slice"],[1,1798,106,14],[1,1800,106,17],[1,1804,108,6,"setRecentSubcategories"],[1,1806,108,29,"updated"],[1,1815,109,12,"Storage"],[1,1817,109,19,"Storage"],[1,1825,109,20,"setItem"],[1,1833,109,28,"RECENT_SUBCATEGORIES_KEY"],[1,1835,109,54,"JSON"],[1,1840,109,59,"stringify"],[1,1850,109,69,"updated"],[1,1853,110,4],[1,1854,110,6],[1,1860,110,13,"error"],[1,1863,111,6,"console"],[1,1871,111,14,"log"],[1,1875,111,18],[1,1910,111,54,"error"],[1,1912,112,4],[1,1915,113,5],[1,1916,113,6,"recentSubcategories"],[1,1921,116,2],[1,1923,116,2,"useEffect"],[1,1925,116,11,"useEffect"],[1,1936,116,12],[1,1941,117,4,"loadRecentSubcategories"],[1,1946,118,5],[1,1951,121,2],[1,1953,121,2,"useEffect"],[1,1955,121,11,"useEffect"],[1,1966,121,12],[1,1970,122,11],[1,1975,123,6,"setShowSubcategoryModal"],[1,1978,123,30],[1,1982,125,5],[1,1986,128,2],[1,1992,128,8,"openSubcategoryModal"],[1,1995,128,31],[1,1997,128,31,"useCallback"],[1,1999,128,42,"useCallback"],[1,2012,128,43,"async"],[1,2022,129,4],[1,2028,129,10,"category"],[1,2030,129,21,"FULL_CATEGORIES"],[1,2032,129,37,"find"],[1,2037,129,42,"c"],[1,2040,129,47,"c"],[1,2042,129,49,"id"],[1,2047,129,56,"categoryId"],[1,2050,130,4],[1,2054,130,9,"category"],[1,2056,130,19],[1,2063,132,4],[1,2069,132,10,"subcategories"],[1,2072,132,26],[1,2074,132,26,"getSubcategories"],[1,2076,132,42,"getSubcategories"],[1,2094,132,43,"categoryId"],[1,2097,135,4,"setSelectedCategoryForSubcats"],[1,2099,135,34],[1,2100,136,6,"id"],[1,2103,136,10,"categoryId"],[1,2105,137,6,"name"],[1,2110,137,12,"category"],[1,2112,137,21,"name"],[1,2117,138,6,"icon"],[1,2122,138,12,"category"],[1,2124,138,21,"icon"],[1,2129,139,6,"subcategories"],[1,2143,139,21,"subcategories"],[1,2147,141,4,"setShowSubcategoryModal"],[1,2150,141,28],[1,2153,144,4,"setLoadingCounts"],[1,2156,144,21],[1,2159,145,4],[1,2163,146,6],[1,2169,146,12,"counts"],[1,2177,146,27,"categoriesApi"],[1,2179,146,40,"categoriesApi"],[1,2193,146,41,"getSubcategoryCounts"],[1,2214,146,62,"categoryId"],[1,2217,147,6,"setSubcategoryCounts"],[1,2219,147,27,"counts"],[1,2221,148,4],[1,2222,148,6],[1,2228,148,13,"error"],[1,2231,149,6,"console"],[1,2239,149,14,"log"],[1,2243,149,18],[1,2280,149,56,"error"],[1,2283,150,6,"setSubcategoryCounts"],[1,2285,150,27],[1,2286,150,28],[1,2288,151,4],[1,2289,151,5],[1,2297,152,6,"setLoadingCounts"],[1,2300,152,23],[1,2302,153,4],[1,2305,154,5],[1,2309,157,8,"closeSubcategoryModal"],[1,2312,157,32],[1,2314,157,32,"useCallback"],[1,2316,157,43,"useCallback"],[1,2329,157,44],[1,2334,158,4,"setShowSubcategoryModal"],[1,2337,158,28],[1,2341,159,5],[1,2345,162,8,"handleSubcategorySelect"],[1,2348,162,34],[1,2350,162,34,"useCallback"],[1,2352,162,45,"useCallback"],[1,2365,162,46,"async"],[1,2371,163,4,"categoryId"],[1,2373,164,4,"subcategoryId"],[1,2378,169,4],[1,2381,166,4,"setShowSubcategoryModal"],[1,2384,166,28],[1,2387,169,8,"subcategoryId"],[1,2390,169,25,"selectedCategoryForSubcats"],[1,2392,169,53],[1,2393,170,6],[1,2399,170,12,"subcategory"],[1,2401,170,26,"selectedCategoryForSubcats"],[1,2403,170,53,"subcategories"],[1,2417,170,67,"find"],[1,2422,170,72,"s"],[1,2425,170,77,"s"],[1,2427,170,79,"id"],[1,2432,170,86,"subcategoryId"],[1,2435,171,10,"subcategory"],[1,2444,172,14,"saveRecentSubcategory"],[1,2446,173,10,"categoryId"],[1,2448,174,10,"selectedCategoryForSubcats"],[1,2450,174,37,"name"],[1,2455,175,10,"selectedCategoryForSubcats"],[1,2457,175,37,"icon"],[1,2462,176,10,"subcategoryId"],[1,2464,177,10,"subcategory"],[1,2466,177,22,"name"],[1,2471,180,4],[1,2472,183,4],[1,2479,183,8,"subcategoryId"],[1,2481,184,13],[1,2494,184,26,"categoryId"],[1,2511,184,52,"subcategoryId"],[1,2515,186,11],[1,2528,186,24,"categoryId"],[1,2533,187,5],[1,2534,187,6,"selectedCategoryForSubcats"],[1,2536,187,34,"saveRecentSubcategory"],[1,2540,190,8,"handleRecentSubcategoryPress"],[1,2543,190,39],[1,2545,190,39,"useCallback"],[1,2547,190,50,"useCallback"],[1,2560,190,52,"item"],[1,2564,191,4,"setShowSubcategoryModal"],[1,2567,191,28],[1,2570,192,11],[1,2583,192,24,"item"],[1,2585,192,29,"categoryId"],[1,2611,192,55,"item"],[1,2613,192,60,"subcategoryId"],[1,2630,193,5],[1,2634,195,2],[1,2640,195,9],[1,2641,197,4,"showSubcategoryModal"],[1,2664,198,4,"selectedCategoryForSubcats"],[1,2693,199,4,"subcategoryCounts"],[1,2713,200,4,"loadingCounts"],[1,2729,201,4,"recentSubcategories"],[1,2751,204,4,"openSubcategoryModal"],[1,2774,205,4,"closeSubcategoryModal"],[1,2798,206,4,"handleSubcategorySelect"],[1,2824,207,4,"handleRecentSubcategoryPress"],[1,2855,209,0],[1,2856,211,0],[1,2860,211,0,"_default"],[1,2862,211,15,"useSubcategoryModal"],[1,2863,211,35],[1,2866]],"functionMap":{"names":["<global>","useSubcategoryModal","loadRecentSubcategories","parsed.filter$argument_0","saveRecentSubcategory","recentSubcategories.filter$argument_0","useEffect$argument_0","<anonymous>","openSubcategoryModal","FULL_CATEGORIES.find$argument_0","closeSubcategoryModal","handleSubcategorySelect","selectedCategoryForSubcats.subcategories.find$argument_0","handleRecentSubcategoryPress"],"mappings":"AAA;OCiD;8CCe;kBCQ,2DD;GDO;4CGG;UCqB,iFD;GHS;YKG;GLE;YKG;WCC;KDE;GLC;2COG;0CCC,wBD;GPyB;4CSG;GTE;8CUG;wECQ,2BD;GViB;mDYG;GZG;CDgB"},"hasCjsExports":false},"type":"js/module"}]}