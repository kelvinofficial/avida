{"dependencies":[{"name":"zustand","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":33,"index":33}}],"key":"POPvx7yS3Y3wz+S/9OAefiXNs0Q=","exportNames":["*"],"imports":1}},{"name":"expo-constants","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":34},"end":{"line":2,"column":39,"index":73}}],"key":"pPv5KzfRT0rL6NCr7G9k0o4d1W8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"useFeatureSettingsStore\", {\n    enumerable: true,\n    get: function () {\n      return useFeatureSettingsStore;\n    }\n  });\n  Object.defineProperty(exports, \"useInitializeFeatureSettings\", {\n    enumerable: true,\n    get: function () {\n      return useInitializeFeatureSettings;\n    }\n  });\n  var _zustand = require(_dependencyMap[0], \"zustand\");\n  var _expoConstants = require(_dependencyMap[1], \"expo-constants\");\n  var Constants = _interopDefault(_expoConstants);\n  const API_URL = Constants.default.expoConfig?.extra?.backendUrl || process.env.EXPO_PUBLIC_BACKEND_URL || '';\n\n  // Feature settings interface matching backend response\n\n  // Default settings (used as fallback)\n  const DEFAULT_SETTINGS = {\n    show_view_count: true,\n    show_save_count: true,\n    show_listing_stats: true,\n    show_seller_stats: true,\n    show_distance: true,\n    show_time_ago: true,\n    show_negotiable_badge: true,\n    show_featured_badge: true,\n    location_mode: 'region',\n    default_country: 'TZ',\n    allow_country_change: false,\n    currency: 'TZS',\n    currency_symbol: 'TSh',\n    currency_position: 'before'\n  };\n  // Cache duration: 5 minutes\n  const CACHE_DURATION = 5 * 60 * 1000;\n  const useFeatureSettingsStore = (0, _zustand.create)((set, get) => ({\n    settings: DEFAULT_SETTINGS,\n    isLoading: false,\n    error: null,\n    lastFetched: null,\n    fetchSettings: async () => {\n      const state = get();\n\n      // Don't fetch if already loading\n      if (state.isLoading) return;\n\n      // Check cache - don't refetch if recently fetched\n      if (state.lastFetched && Date.now() - state.lastFetched < CACHE_DURATION) {\n        return;\n      }\n      set({\n        isLoading: true,\n        error: null\n      });\n      try {\n        const response = await fetch(`${API_URL}/api/feature-settings`);\n        if (!response.ok) {\n          throw new Error('Failed to fetch feature settings');\n        }\n        const data = await response.json();\n        set({\n          settings: {\n            ...DEFAULT_SETTINGS,\n            ...data\n          },\n          isLoading: false,\n          lastFetched: Date.now()\n        });\n      } catch (error) {\n        console.error('Error fetching feature settings:', error);\n        set({\n          isLoading: false,\n          error: error instanceof Error ? error.message : 'Unknown error'\n          // Keep default settings on error\n        });\n      }\n    },\n    // Helper methods for common checks\n    shouldShowViewCount: () => get().settings.show_view_count,\n    shouldShowSaveCount: () => get().settings.show_save_count,\n    shouldShowDistance: () => get().settings.show_distance,\n    shouldShowTimeAgo: () => get().settings.show_time_ago,\n    shouldShowNegotiableBadge: () => get().settings.show_negotiable_badge,\n    shouldShowFeaturedBadge: () => get().settings.show_featured_badge,\n    formatPrice: price => {\n      const {\n        currency_symbol,\n        currency_position\n      } = get().settings;\n      const formattedNumber = price.toLocaleString();\n      if (currency_position === 'before') {\n        return `${currency_symbol} ${formattedNumber}`;\n      }\n      return `${formattedNumber} ${currency_symbol}`;\n    }\n  }));\n\n  // Export a hook for easy initialization\n  const useInitializeFeatureSettings = () => {\n    const fetchSettings = useFeatureSettingsStore(state => state.fetchSettings);\n    return fetchSettings;\n  };\n});","lineCount":117,"map":[[12,2,63,0,"Object"],[12,8,63,0],[12,9,63,0,"defineProperty"],[12,23,63,0],[12,24,63,0,"exports"],[12,31,63,0],[13,4,63,0,"enumerable"],[13,14,63,0],[14,4,63,0,"get"],[14,7,63,0],[14,18,63,0,"get"],[14,19,63,0],[15,6,63,0],[15,13,63,0,"useFeatureSettingsStore"],[15,36,63,0],[16,4,63,0],[17,2,63,0],[18,2,126,0,"Object"],[18,8,126,0],[18,9,126,0,"defineProperty"],[18,23,126,0],[18,24,126,0,"exports"],[18,31,126,0],[19,4,126,0,"enumerable"],[19,14,126,0],[20,4,126,0,"get"],[20,7,126,0],[20,18,126,0,"get"],[20,19,126,0],[21,6,126,0],[21,13,126,0,"useInitializeFeatureSettings"],[21,41,126,0],[22,4,126,0],[23,2,126,0],[24,2,1,0],[24,6,1,0,"_zustand"],[24,14,1,0],[24,17,1,0,"require"],[24,24,1,0],[24,25,1,0,"_dependencyMap"],[24,39,1,0],[25,2,2,0],[25,6,2,0,"_expoConstants"],[25,20,2,0],[25,23,2,0,"require"],[25,30,2,0],[25,31,2,0,"_dependencyMap"],[25,45,2,0],[26,2,2,0],[26,6,2,0,"Constants"],[26,15,2,0],[26,18,2,0,"_interopDefault"],[26,33,2,0],[26,34,2,0,"_expoConstants"],[26,48,2,0],[27,2,4,0],[27,8,4,6,"API_URL"],[27,15,4,13],[27,18,4,16,"Constants"],[27,27,4,25],[27,28,4,25,"default"],[27,35,4,25],[27,36,4,26,"expoConfig"],[27,46,4,36],[27,48,4,38,"extra"],[27,53,4,43],[27,55,4,45,"backendUrl"],[27,65,4,55],[27,69,4,59,"process"],[27,76,4,66],[27,77,4,67,"env"],[27,80,4,70],[27,81,4,71,"EXPO_PUBLIC_BACKEND_URL"],[27,104,4,94],[27,108,4,98],[27,110,4,100],[29,2,6,0],[31,2,25,0],[32,2,26,0],[32,8,26,6,"DEFAULT_SETTINGS"],[32,24,26,39],[32,27,26,42],[33,4,27,2,"show_view_count"],[33,19,27,17],[33,21,27,19],[33,25,27,23],[34,4,28,2,"show_save_count"],[34,19,28,17],[34,21,28,19],[34,25,28,23],[35,4,29,2,"show_listing_stats"],[35,22,29,20],[35,24,29,22],[35,28,29,26],[36,4,30,2,"show_seller_stats"],[36,21,30,19],[36,23,30,21],[36,27,30,25],[37,4,31,2,"show_distance"],[37,17,31,15],[37,19,31,17],[37,23,31,21],[38,4,32,2,"show_time_ago"],[38,17,32,15],[38,19,32,17],[38,23,32,21],[39,4,33,2,"show_negotiable_badge"],[39,25,33,23],[39,27,33,25],[39,31,33,29],[40,4,34,2,"show_featured_badge"],[40,23,34,21],[40,25,34,23],[40,29,34,27],[41,4,35,2,"location_mode"],[41,17,35,15],[41,19,35,17],[41,27,35,25],[42,4,36,2,"default_country"],[42,19,36,17],[42,21,36,19],[42,25,36,23],[43,4,37,2,"allow_country_change"],[43,24,37,22],[43,26,37,24],[43,31,37,29],[44,4,38,2,"currency"],[44,12,38,10],[44,14,38,12],[44,19,38,17],[45,4,39,2,"currency_symbol"],[45,19,39,17],[45,21,39,19],[45,26,39,24],[46,4,40,2,"currency_position"],[46,21,40,19],[46,23,40,21],[47,2,41,0],[47,3,41,1],[48,2,60,0],[49,2,61,0],[49,8,61,6,"CACHE_DURATION"],[49,22,61,20],[49,25,61,23],[49,26,61,24],[49,29,61,27],[49,31,61,29],[49,34,61,32],[49,38,61,36],[50,2,63,7],[50,8,63,13,"useFeatureSettingsStore"],[50,31,63,36],[50,34,63,39],[50,38,63,39,"create"],[50,46,63,45],[50,47,63,45,"create"],[50,53,63,45],[50,55,63,68],[50,56,63,69,"set"],[50,59,63,72],[50,61,63,74,"get"],[50,64,63,77],[50,70,63,83],[51,4,64,2,"settings"],[51,12,64,10],[51,14,64,12,"DEFAULT_SETTINGS"],[51,30,64,28],[52,4,65,2,"isLoading"],[52,13,65,11],[52,15,65,13],[52,20,65,18],[53,4,66,2,"error"],[53,9,66,7],[53,11,66,9],[53,15,66,13],[54,4,67,2,"lastFetched"],[54,15,67,13],[54,17,67,15],[54,21,67,19],[55,4,69,2,"fetchSettings"],[55,17,69,15],[55,19,69,17],[55,25,69,17,"fetchSettings"],[55,26,69,17],[55,31,69,29],[56,6,70,4],[56,12,70,10,"state"],[56,17,70,15],[56,20,70,18,"get"],[56,23,70,21],[56,24,70,22],[56,25,70,23],[58,6,72,4],[59,6,73,4],[59,10,73,8,"state"],[59,15,73,13],[59,16,73,14,"isLoading"],[59,25,73,23],[59,27,73,25],[61,6,75,4],[62,6,76,4],[62,10,76,8,"state"],[62,15,76,13],[62,16,76,14,"lastFetched"],[62,27,76,25],[62,31,76,29,"Date"],[62,35,76,33],[62,36,76,34,"now"],[62,39,76,37],[62,40,76,38],[62,41,76,39],[62,44,76,42,"state"],[62,49,76,47],[62,50,76,48,"lastFetched"],[62,61,76,59],[62,64,76,62,"CACHE_DURATION"],[62,78,76,76],[62,80,76,78],[63,8,77,6],[64,6,78,4],[65,6,80,4,"set"],[65,9,80,7],[65,10,80,8],[66,8,80,10,"isLoading"],[66,17,80,19],[66,19,80,21],[66,23,80,25],[67,8,80,27,"error"],[67,13,80,32],[67,15,80,34],[68,6,80,39],[68,7,80,40],[68,8,80,41],[69,6,82,4],[69,10,82,8],[70,8,83,6],[70,14,83,12,"response"],[70,22,83,20],[70,25,83,23],[70,31,83,29,"fetch"],[70,36,83,34],[70,37,83,35],[70,40,83,38,"API_URL"],[70,47,83,45],[70,70,83,68],[70,71,83,69],[71,8,85,6],[71,12,85,10],[71,13,85,11,"response"],[71,21,85,19],[71,22,85,20,"ok"],[71,24,85,22],[71,26,85,24],[72,10,86,8],[72,16,86,14],[72,20,86,18,"Error"],[72,25,86,23],[72,26,86,24],[72,60,86,58],[72,61,86,59],[73,8,87,6],[74,8,89,6],[74,14,89,12,"data"],[74,18,89,16],[74,21,89,19],[74,27,89,25,"response"],[74,35,89,33],[74,36,89,34,"json"],[74,40,89,38],[74,41,89,39],[74,42,89,40],[75,8,91,6,"set"],[75,11,91,9],[75,12,91,10],[76,10,92,8,"settings"],[76,18,92,16],[76,20,92,18],[77,12,92,20],[77,15,92,23,"DEFAULT_SETTINGS"],[77,31,92,39],[78,12,92,41],[78,15,92,44,"data"],[79,10,92,49],[79,11,92,50],[80,10,93,8,"isLoading"],[80,19,93,17],[80,21,93,19],[80,26,93,24],[81,10,94,8,"lastFetched"],[81,21,94,19],[81,23,94,21,"Date"],[81,27,94,25],[81,28,94,26,"now"],[81,31,94,29],[81,32,94,30],[82,8,95,6],[82,9,95,7],[82,10,95,8],[83,6,96,4],[83,7,96,5],[83,8,96,6],[83,15,96,13,"error"],[83,20,96,18],[83,22,96,20],[84,8,97,6,"console"],[84,15,97,13],[84,16,97,14,"error"],[84,21,97,19],[84,22,97,20],[84,56,97,54],[84,58,97,56,"error"],[84,63,97,61],[84,64,97,62],[85,8,98,6,"set"],[85,11,98,9],[85,12,98,10],[86,10,99,8,"isLoading"],[86,19,99,17],[86,21,99,19],[86,26,99,24],[87,10,100,8,"error"],[87,15,100,13],[87,17,100,15,"error"],[87,22,100,20],[87,34,100,32,"Error"],[87,39,100,37],[87,42,100,40,"error"],[87,47,100,45],[87,48,100,46,"message"],[87,55,100,53],[87,58,100,56],[88,10,101,8],[89,8,102,6],[89,9,102,7],[89,10,102,8],[90,6,103,4],[91,4,104,2],[91,5,104,3],[92,4,106,2],[93,4,107,2,"shouldShowViewCount"],[93,23,107,21],[93,25,107,23,"shouldShowViewCount"],[93,26,107,23],[93,31,107,29,"get"],[93,34,107,32],[93,35,107,33],[93,36,107,34],[93,37,107,35,"settings"],[93,45,107,43],[93,46,107,44,"show_view_count"],[93,61,107,59],[94,4,108,2,"shouldShowSaveCount"],[94,23,108,21],[94,25,108,23,"shouldShowSaveCount"],[94,26,108,23],[94,31,108,29,"get"],[94,34,108,32],[94,35,108,33],[94,36,108,34],[94,37,108,35,"settings"],[94,45,108,43],[94,46,108,44,"show_save_count"],[94,61,108,59],[95,4,109,2,"shouldShowDistance"],[95,22,109,20],[95,24,109,22,"shouldShowDistance"],[95,25,109,22],[95,30,109,28,"get"],[95,33,109,31],[95,34,109,32],[95,35,109,33],[95,36,109,34,"settings"],[95,44,109,42],[95,45,109,43,"show_distance"],[95,58,109,56],[96,4,110,2,"shouldShowTimeAgo"],[96,21,110,19],[96,23,110,21,"shouldShowTimeAgo"],[96,24,110,21],[96,29,110,27,"get"],[96,32,110,30],[96,33,110,31],[96,34,110,32],[96,35,110,33,"settings"],[96,43,110,41],[96,44,110,42,"show_time_ago"],[96,57,110,55],[97,4,111,2,"shouldShowNegotiableBadge"],[97,29,111,27],[97,31,111,29,"shouldShowNegotiableBadge"],[97,32,111,29],[97,37,111,35,"get"],[97,40,111,38],[97,41,111,39],[97,42,111,40],[97,43,111,41,"settings"],[97,51,111,49],[97,52,111,50,"show_negotiable_badge"],[97,73,111,71],[98,4,112,2,"shouldShowFeaturedBadge"],[98,27,112,25],[98,29,112,27,"shouldShowFeaturedBadge"],[98,30,112,27],[98,35,112,33,"get"],[98,38,112,36],[98,39,112,37],[98,40,112,38],[98,41,112,39,"settings"],[98,49,112,47],[98,50,112,48,"show_featured_badge"],[98,69,112,67],[99,4,114,2,"formatPrice"],[99,15,114,13],[99,17,114,16,"price"],[99,22,114,29],[99,26,114,34],[100,6,115,4],[100,12,115,10],[101,8,115,12,"currency_symbol"],[101,23,115,27],[102,8,115,29,"currency_position"],[103,6,115,47],[103,7,115,48],[103,10,115,51,"get"],[103,13,115,54],[103,14,115,55],[103,15,115,56],[103,16,115,57,"settings"],[103,24,115,65],[104,6,116,4],[104,12,116,10,"formattedNumber"],[104,27,116,25],[104,30,116,28,"price"],[104,35,116,33],[104,36,116,34,"toLocaleString"],[104,50,116,48],[104,51,116,49],[104,52,116,50],[105,6,118,4],[105,10,118,8,"currency_position"],[105,27,118,25],[105,32,118,30],[105,40,118,38],[105,42,118,40],[106,8,119,6],[106,15,119,13],[106,18,119,16,"currency_symbol"],[106,33,119,31],[106,37,119,35,"formattedNumber"],[106,52,119,50],[106,54,119,52],[107,6,120,4],[108,6,121,4],[108,13,121,11],[108,16,121,14,"formattedNumber"],[108,31,121,29],[108,35,121,33,"currency_symbol"],[108,50,121,48],[108,52,121,50],[109,4,122,2],[110,2,123,0],[110,3,123,1],[110,4,123,2],[110,5,123,3],[112,2,125,0],[113,2,126,7],[113,8,126,13,"useInitializeFeatureSettings"],[113,36,126,41],[113,39,126,44,"useInitializeFeatureSettings"],[113,40,126,44],[113,45,126,50],[114,4,127,2],[114,10,127,8,"fetchSettings"],[114,23,127,21],[114,26,127,24,"useFeatureSettingsStore"],[114,49,127,47],[114,50,127,48,"state"],[114,55,127,53],[114,59,127,57,"state"],[114,64,127,62],[114,65,127,63,"fetchSettings"],[114,78,127,76],[114,79,127,77],[115,4,128,2],[115,11,128,9,"fetchSettings"],[115,24,128,22],[116,2,129,0],[116,3,129,1],[117,0,129,2],[117,3]],"functionMap":{"names":["<global>","create$argument_0","fetchSettings","shouldShowViewCount","shouldShowSaveCount","shouldShowDistance","shouldShowTimeAgo","shouldShowNegotiableBadge","shouldShowFeaturedBadge","formatPrice","useInitializeFeatureSettings","useFeatureSettingsStore$argument_0"],"mappings":"AAA;oEC8D;iBCM;GDmC;uBEG,oCF;uBGC,oCH;sBIC,kCJ;qBKC,kCL;6BMC,0CN;2BOC,wCP;eQE;GRQ;EDC;4CUG;gDCC,4BD;CVE"},"hasCjsExports":false},"type":"js/module"}]}