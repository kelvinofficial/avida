{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":115},"end":{"line":5,"column":57,"index":172}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"../config/listingFormConfig","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":173},"end":{"line":6,"column":68,"index":241}}],"key":"ztDKYBL2NGzq2LvouESQ7zzA3Y4=","exportNames":["*"],"imports":1}},{"name":"../utils/api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":7,"column":0,"index":242},"end":{"line":7,"column":39,"index":281}}],"key":"XoJ+jbKCrEi38eKczMqtlbk+TCk=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports.usePhotographyGuides = usePhotographyGuides;\n  exports.getPhotographyGuides = getPhotographyGuides;\n  var _react = require(_dependencyMap[0], \"react\");\n  var _configListingFormConfig = require(_dependencyMap[1], \"../config/listingFormConfig\");\n  var _utilsApi = require(_dependencyMap[2], \"../utils/api\");\n  /**\n   * Hook to fetch photography guides from the admin-managed API\n   * Falls back to static config if API fails\n   */\n\n  // Cache for guides to avoid repeated API calls\n  const guidesCache = {};\n  const CACHE_TTL = 5 * 60 * 1000; // 5 minutes\n\n  function usePhotographyGuides(categoryId) {\n    const [guides, setGuides] = (0, _react.useState)([]);\n    const [loading, setLoading] = (0, _react.useState)(false);\n    const [error, setError] = (0, _react.useState)(null);\n    const fetchGuides = (0, _react.useCallback)(async () => {\n      if (!categoryId) {\n        // Use default tips if no category selected\n        const defaultTips = _configListingFormConfig.CATEGORY_LISTING_TIPS.default?.photoTips || [];\n        setGuides(defaultTips.map((tip, index) => ({\n          id: `default-${index}`,\n          title: tip.title,\n          description: tip.description,\n          icon: tip.icon,\n          order: index\n        })));\n        return;\n      }\n\n      // Check cache first\n      const cached = guidesCache[categoryId];\n      if (cached && Date.now() - cached.timestamp < CACHE_TTL) {\n        setGuides(cached.guides);\n        return;\n      }\n      setLoading(true);\n      setError(null);\n      try {\n        const response = await fetch(`${_utilsApi.API_URL}/api/photography-guides/public/${categoryId}`);\n        if (response.ok) {\n          const data = await response.json();\n          if (data.guides && data.guides.length > 0) {\n            // Use API guides\n            setGuides(data.guides);\n            guidesCache[categoryId] = {\n              guides: data.guides,\n              timestamp: Date.now()\n            };\n          } else {\n            // Fall back to static config\n            fallbackToStaticTips(categoryId);\n          }\n        } else {\n          // Fall back to static config\n          fallbackToStaticTips(categoryId);\n        }\n      } catch (err) {\n        console.error('Error fetching photography guides:', err);\n        setError('Failed to fetch guides');\n        // Fall back to static config\n        fallbackToStaticTips(categoryId);\n      } finally {\n        setLoading(false);\n      }\n    }, [categoryId]);\n    const fallbackToStaticTips = catId => {\n      const staticTips = _configListingFormConfig.CATEGORY_LISTING_TIPS[catId]?.photoTips || _configListingFormConfig.CATEGORY_LISTING_TIPS.default?.photoTips || [];\n      const fallbackGuides = staticTips.map((tip, index) => ({\n        id: `static-${index}`,\n        title: tip.title,\n        description: tip.description,\n        icon: tip.icon,\n        order: index\n      }));\n      setGuides(fallbackGuides);\n    };\n    (0, _react.useEffect)(() => {\n      fetchGuides();\n    }, [fetchGuides]);\n    return {\n      guides,\n      loading,\n      error,\n      refetch: fetchGuides\n    };\n  }\n\n  /**\n   * Get photography guides for a category (can be called outside of hooks)\n   * Returns a promise that resolves to guides array\n   */\n  async function getPhotographyGuides(categoryId) {\n    // Check cache first\n    const cached = guidesCache[categoryId];\n    if (cached && Date.now() - cached.timestamp < CACHE_TTL) {\n      return cached.guides;\n    }\n    try {\n      const response = await fetch(`${_utilsApi.API_URL}/api/photography-guides/public/${categoryId}`);\n      if (response.ok) {\n        const data = await response.json();\n        if (data.guides && data.guides.length > 0) {\n          guidesCache[categoryId] = {\n            guides: data.guides,\n            timestamp: Date.now()\n          };\n          return data.guides;\n        }\n      }\n    } catch (err) {\n      console.error('Error fetching photography guides:', err);\n    }\n\n    // Fall back to static config\n    const staticTips = _configListingFormConfig.CATEGORY_LISTING_TIPS[categoryId]?.photoTips || _configListingFormConfig.CATEGORY_LISTING_TIPS.default?.photoTips || [];\n    return staticTips.map((tip, index) => ({\n      id: `static-${index}`,\n      title: tip.title,\n      description: tip.description,\n      icon: tip.icon,\n      order: index\n    }));\n  }\n});","lineCount":133,"map":[[7,2,27,0,"exports"],[7,9,27,0],[7,10,27,0,"usePhotographyGuides"],[7,30,27,0],[7,33,27,0,"usePhotographyGuides"],[7,53,27,0],[8,2,110,0,"exports"],[8,9,110,0],[8,10,110,0,"getPhotographyGuides"],[8,30,110,0],[8,33,110,0,"getPhotographyGuides"],[8,53,110,0],[9,2,5,0],[9,6,5,0,"_react"],[9,12,5,0],[9,15,5,0,"require"],[9,22,5,0],[9,23,5,0,"_dependencyMap"],[9,37,5,0],[10,2,6,0],[10,6,6,0,"_configListingFormConfig"],[10,30,6,0],[10,33,6,0,"require"],[10,40,6,0],[10,41,6,0,"_dependencyMap"],[10,55,6,0],[11,2,7,0],[11,6,7,0,"_utilsApi"],[11,15,7,0],[11,18,7,0,"require"],[11,25,7,0],[11,26,7,0,"_dependencyMap"],[11,40,7,0],[12,2,1,0],[13,0,2,0],[14,0,3,0],[15,0,4,0],[17,2,23,0],[18,2,24,0],[18,8,24,6,"guidesCache"],[18,19,24,84],[18,22,24,87],[18,23,24,88],[18,24,24,89],[19,2,25,0],[19,8,25,6,"CACHE_TTL"],[19,17,25,15],[19,20,25,18],[19,21,25,19],[19,24,25,22],[19,26,25,24],[19,29,25,27],[19,33,25,31],[19,34,25,32],[19,35,25,33],[21,2,27,7],[21,11,27,16,"usePhotographyGuides"],[21,31,27,36,"usePhotographyGuides"],[21,32,27,37,"categoryId"],[21,42,27,67],[21,44,27,69],[22,4,28,2],[22,10,28,8],[22,11,28,9,"guides"],[22,17,28,15],[22,19,28,17,"setGuides"],[22,28,28,26],[22,29,28,27],[22,32,28,30],[22,36,28,30,"useState"],[22,42,28,38],[22,43,28,38,"useState"],[22,51,28,38],[22,53,28,59],[22,55,28,61],[22,56,28,62],[23,4,29,2],[23,10,29,8],[23,11,29,9,"loading"],[23,18,29,16],[23,20,29,18,"setLoading"],[23,30,29,28],[23,31,29,29],[23,34,29,32],[23,38,29,32,"useState"],[23,44,29,40],[23,45,29,40,"useState"],[23,53,29,40],[23,55,29,41],[23,60,29,46],[23,61,29,47],[24,4,30,2],[24,10,30,8],[24,11,30,9,"error"],[24,16,30,14],[24,18,30,16,"setError"],[24,26,30,24],[24,27,30,25],[24,30,30,28],[24,34,30,28,"useState"],[24,40,30,36],[24,41,30,36,"useState"],[24,49,30,36],[24,51,30,52],[24,55,30,56],[24,56,30,57],[25,4,32,2],[25,10,32,8,"fetchGuides"],[25,21,32,19],[25,24,32,22],[25,28,32,22,"useCallback"],[25,34,32,33],[25,35,32,33,"useCallback"],[25,46,32,33],[25,48,32,34],[25,60,32,46],[26,6,33,4],[26,10,33,8],[26,11,33,9,"categoryId"],[26,21,33,19],[26,23,33,21],[27,8,34,6],[28,8,35,6],[28,14,35,12,"defaultTips"],[28,25,35,23],[28,28,35,26,"CATEGORY_LISTING_TIPS"],[28,52,35,47],[28,53,35,47,"CATEGORY_LISTING_TIPS"],[28,74,35,47],[28,75,35,48,"default"],[28,82,35,55],[28,84,35,57,"photoTips"],[28,93,35,66],[28,97,35,70],[28,99,35,72],[29,8,36,6,"setGuides"],[29,17,36,15],[29,18,36,16,"defaultTips"],[29,29,36,27],[29,30,36,28,"map"],[29,33,36,31],[29,34,36,32],[29,35,36,33,"tip"],[29,38,36,36],[29,40,36,38,"index"],[29,45,36,43],[29,51,36,49],[30,10,37,8,"id"],[30,12,37,10],[30,14,37,12],[30,25,37,23,"index"],[30,30,37,28],[30,32,37,30],[31,10,38,8,"title"],[31,15,38,13],[31,17,38,15,"tip"],[31,20,38,18],[31,21,38,19,"title"],[31,26,38,24],[32,10,39,8,"description"],[32,21,39,19],[32,23,39,21,"tip"],[32,26,39,24],[32,27,39,25,"description"],[32,38,39,36],[33,10,40,8,"icon"],[33,14,40,12],[33,16,40,14,"tip"],[33,19,40,17],[33,20,40,18,"icon"],[33,24,40,22],[34,10,41,8,"order"],[34,15,41,13],[34,17,41,15,"index"],[35,8,42,6],[35,9,42,7],[35,10,42,8],[35,11,42,9],[35,12,42,10],[36,8,43,6],[37,6,44,4],[39,6,46,4],[40,6,47,4],[40,12,47,10,"cached"],[40,18,47,16],[40,21,47,19,"guidesCache"],[40,32,47,30],[40,33,47,31,"categoryId"],[40,43,47,41],[40,44,47,42],[41,6,48,4],[41,10,48,8,"cached"],[41,16,48,14],[41,20,48,18,"Date"],[41,24,48,22],[41,25,48,23,"now"],[41,28,48,26],[41,29,48,27],[41,30,48,28],[41,33,48,31,"cached"],[41,39,48,37],[41,40,48,38,"timestamp"],[41,49,48,47],[41,52,48,50,"CACHE_TTL"],[41,61,48,59],[41,63,48,61],[42,8,49,6,"setGuides"],[42,17,49,15],[42,18,49,16,"cached"],[42,24,49,22],[42,25,49,23,"guides"],[42,31,49,29],[42,32,49,30],[43,8,50,6],[44,6,51,4],[45,6,53,4,"setLoading"],[45,16,53,14],[45,17,53,15],[45,21,53,19],[45,22,53,20],[46,6,54,4,"setError"],[46,14,54,12],[46,15,54,13],[46,19,54,17],[46,20,54,18],[47,6,56,4],[47,10,56,8],[48,8,57,6],[48,14,57,12,"response"],[48,22,57,20],[48,25,57,23],[48,31,57,29,"fetch"],[48,36,57,34],[48,37,57,35],[48,40,57,38,"API_URL"],[48,49,57,45],[48,50,57,45,"API_URL"],[48,57,57,45],[48,91,57,79,"categoryId"],[48,101,57,89],[48,103,57,91],[48,104,57,92],[49,8,59,6],[49,12,59,10,"response"],[49,20,59,18],[49,21,59,19,"ok"],[49,23,59,21],[49,25,59,23],[50,10,60,8],[50,16,60,14,"data"],[50,20,60,45],[50,23,60,48],[50,29,60,54,"response"],[50,37,60,62],[50,38,60,63,"json"],[50,42,60,67],[50,43,60,68],[50,44,60,69],[51,10,62,8],[51,14,62,12,"data"],[51,18,62,16],[51,19,62,17,"guides"],[51,25,62,23],[51,29,62,27,"data"],[51,33,62,31],[51,34,62,32,"guides"],[51,40,62,38],[51,41,62,39,"length"],[51,47,62,45],[51,50,62,48],[51,51,62,49],[51,53,62,51],[52,12,63,10],[53,12,64,10,"setGuides"],[53,21,64,19],[53,22,64,20,"data"],[53,26,64,24],[53,27,64,25,"guides"],[53,33,64,31],[53,34,64,32],[54,12,65,10,"guidesCache"],[54,23,65,21],[54,24,65,22,"categoryId"],[54,34,65,32],[54,35,65,33],[54,38,65,36],[55,14,65,38,"guides"],[55,20,65,44],[55,22,65,46,"data"],[55,26,65,50],[55,27,65,51,"guides"],[55,33,65,57],[56,14,65,59,"timestamp"],[56,23,65,68],[56,25,65,70,"Date"],[56,29,65,74],[56,30,65,75,"now"],[56,33,65,78],[56,34,65,79],[57,12,65,81],[57,13,65,82],[58,10,66,8],[58,11,66,9],[58,17,66,15],[59,12,67,10],[60,12,68,10,"fallbackToStaticTips"],[60,32,68,30],[60,33,68,31,"categoryId"],[60,43,68,41],[60,44,68,42],[61,10,69,8],[62,8,70,6],[62,9,70,7],[62,15,70,13],[63,10,71,8],[64,10,72,8,"fallbackToStaticTips"],[64,30,72,28],[64,31,72,29,"categoryId"],[64,41,72,39],[64,42,72,40],[65,8,73,6],[66,6,74,4],[66,7,74,5],[66,8,74,6],[66,15,74,13,"err"],[66,18,74,16],[66,20,74,18],[67,8,75,6,"console"],[67,15,75,13],[67,16,75,14,"error"],[67,21,75,19],[67,22,75,20],[67,58,75,56],[67,60,75,58,"err"],[67,63,75,61],[67,64,75,62],[68,8,76,6,"setError"],[68,16,76,14],[68,17,76,15],[68,41,76,39],[68,42,76,40],[69,8,77,6],[70,8,78,6,"fallbackToStaticTips"],[70,28,78,26],[70,29,78,27,"categoryId"],[70,39,78,37],[70,40,78,38],[71,6,79,4],[71,7,79,5],[71,16,79,14],[72,8,80,6,"setLoading"],[72,18,80,16],[72,19,80,17],[72,24,80,22],[72,25,80,23],[73,6,81,4],[74,4,82,2],[74,5,82,3],[74,7,82,5],[74,8,82,6,"categoryId"],[74,18,82,16],[74,19,82,17],[74,20,82,18],[75,4,84,2],[75,10,84,8,"fallbackToStaticTips"],[75,30,84,28],[75,33,84,32,"catId"],[75,38,84,45],[75,42,84,50],[76,6,85,4],[76,12,85,10,"staticTips"],[76,22,85,20],[76,25,85,23,"CATEGORY_LISTING_TIPS"],[76,49,85,44],[76,50,85,44,"CATEGORY_LISTING_TIPS"],[76,71,85,44],[76,72,85,45,"catId"],[76,77,85,50],[76,78,85,51],[76,80,85,53,"photoTips"],[76,89,85,62],[76,93,86,23,"CATEGORY_LISTING_TIPS"],[76,117,86,44],[76,118,86,44,"CATEGORY_LISTING_TIPS"],[76,139,86,44],[76,140,86,45,"default"],[76,147,86,52],[76,149,86,54,"photoTips"],[76,158,86,63],[76,162,86,67],[76,164,86,69],[77,6,88,4],[77,12,88,10,"fallbackGuides"],[77,26,88,24],[77,29,88,27,"staticTips"],[77,39,88,37],[77,40,88,38,"map"],[77,43,88,41],[77,44,88,42],[77,45,88,43,"tip"],[77,48,88,46],[77,50,88,48,"index"],[77,55,88,53],[77,61,88,59],[78,8,89,6,"id"],[78,10,89,8],[78,12,89,10],[78,22,89,20,"index"],[78,27,89,25],[78,29,89,27],[79,8,90,6,"title"],[79,13,90,11],[79,15,90,13,"tip"],[79,18,90,16],[79,19,90,17,"title"],[79,24,90,22],[80,8,91,6,"description"],[80,19,91,17],[80,21,91,19,"tip"],[80,24,91,22],[80,25,91,23,"description"],[80,36,91,34],[81,8,92,6,"icon"],[81,12,92,10],[81,14,92,12,"tip"],[81,17,92,15],[81,18,92,16,"icon"],[81,22,92,20],[82,8,93,6,"order"],[82,13,93,11],[82,15,93,13,"index"],[83,6,94,4],[83,7,94,5],[83,8,94,6],[83,9,94,7],[84,6,96,4,"setGuides"],[84,15,96,13],[84,16,96,14,"fallbackGuides"],[84,30,96,28],[84,31,96,29],[85,4,97,2],[85,5,97,3],[86,4,99,2],[86,8,99,2,"useEffect"],[86,14,99,11],[86,15,99,11,"useEffect"],[86,24,99,11],[86,26,99,12],[86,32,99,18],[87,6,100,4,"fetchGuides"],[87,17,100,15],[87,18,100,16],[87,19,100,17],[88,4,101,2],[88,5,101,3],[88,7,101,5],[88,8,101,6,"fetchGuides"],[88,19,101,17],[88,20,101,18],[88,21,101,19],[89,4,103,2],[89,11,103,9],[90,6,103,11,"guides"],[90,12,103,17],[91,6,103,19,"loading"],[91,13,103,26],[92,6,103,28,"error"],[92,11,103,33],[93,6,103,35,"refetch"],[93,13,103,42],[93,15,103,44,"fetchGuides"],[94,4,103,56],[94,5,103,57],[95,2,104,0],[97,2,106,0],[98,0,107,0],[99,0,108,0],[100,0,109,0],[101,2,110,7],[101,17,110,22,"getPhotographyGuides"],[101,37,110,42,"getPhotographyGuides"],[101,38,110,43,"categoryId"],[101,48,110,61],[101,50,110,92],[102,4,111,2],[103,4,112,2],[103,10,112,8,"cached"],[103,16,112,14],[103,19,112,17,"guidesCache"],[103,30,112,28],[103,31,112,29,"categoryId"],[103,41,112,39],[103,42,112,40],[104,4,113,2],[104,8,113,6,"cached"],[104,14,113,12],[104,18,113,16,"Date"],[104,22,113,20],[104,23,113,21,"now"],[104,26,113,24],[104,27,113,25],[104,28,113,26],[104,31,113,29,"cached"],[104,37,113,35],[104,38,113,36,"timestamp"],[104,47,113,45],[104,50,113,48,"CACHE_TTL"],[104,59,113,57],[104,61,113,59],[105,6,114,4],[105,13,114,11,"cached"],[105,19,114,17],[105,20,114,18,"guides"],[105,26,114,24],[106,4,115,2],[107,4,117,2],[107,8,117,6],[108,6,118,4],[108,12,118,10,"response"],[108,20,118,18],[108,23,118,21],[108,29,118,27,"fetch"],[108,34,118,32],[108,35,118,33],[108,38,118,36,"API_URL"],[108,47,118,43],[108,48,118,43,"API_URL"],[108,55,118,43],[108,89,118,77,"categoryId"],[108,99,118,87],[108,101,118,89],[108,102,118,90],[109,6,120,4],[109,10,120,8,"response"],[109,18,120,16],[109,19,120,17,"ok"],[109,21,120,19],[109,23,120,21],[110,8,121,6],[110,14,121,12,"data"],[110,18,121,43],[110,21,121,46],[110,27,121,52,"response"],[110,35,121,60],[110,36,121,61,"json"],[110,40,121,65],[110,41,121,66],[110,42,121,67],[111,8,123,6],[111,12,123,10,"data"],[111,16,123,14],[111,17,123,15,"guides"],[111,23,123,21],[111,27,123,25,"data"],[111,31,123,29],[111,32,123,30,"guides"],[111,38,123,36],[111,39,123,37,"length"],[111,45,123,43],[111,48,123,46],[111,49,123,47],[111,51,123,49],[112,10,124,8,"guidesCache"],[112,21,124,19],[112,22,124,20,"categoryId"],[112,32,124,30],[112,33,124,31],[112,36,124,34],[113,12,124,36,"guides"],[113,18,124,42],[113,20,124,44,"data"],[113,24,124,48],[113,25,124,49,"guides"],[113,31,124,55],[114,12,124,57,"timestamp"],[114,21,124,66],[114,23,124,68,"Date"],[114,27,124,72],[114,28,124,73,"now"],[114,31,124,76],[114,32,124,77],[115,10,124,79],[115,11,124,80],[116,10,125,8],[116,17,125,15,"data"],[116,21,125,19],[116,22,125,20,"guides"],[116,28,125,26],[117,8,126,6],[118,6,127,4],[119,4,128,2],[119,5,128,3],[119,6,128,4],[119,13,128,11,"err"],[119,16,128,14],[119,18,128,16],[120,6,129,4,"console"],[120,13,129,11],[120,14,129,12,"error"],[120,19,129,17],[120,20,129,18],[120,56,129,54],[120,58,129,56,"err"],[120,61,129,59],[120,62,129,60],[121,4,130,2],[123,4,132,2],[124,4,133,2],[124,10,133,8,"staticTips"],[124,20,133,18],[124,23,133,21,"CATEGORY_LISTING_TIPS"],[124,47,133,42],[124,48,133,42,"CATEGORY_LISTING_TIPS"],[124,69,133,42],[124,70,133,43,"categoryId"],[124,80,133,53],[124,81,133,54],[124,83,133,56,"photoTips"],[124,92,133,65],[124,96,134,21,"CATEGORY_LISTING_TIPS"],[124,120,134,42],[124,121,134,42,"CATEGORY_LISTING_TIPS"],[124,142,134,42],[124,143,134,43,"default"],[124,150,134,50],[124,152,134,52,"photoTips"],[124,161,134,61],[124,165,134,65],[124,167,134,67],[125,4,136,2],[125,11,136,9,"staticTips"],[125,21,136,19],[125,22,136,20,"map"],[125,25,136,23],[125,26,136,24],[125,27,136,25,"tip"],[125,30,136,28],[125,32,136,30,"index"],[125,37,136,35],[125,43,136,41],[126,6,137,4,"id"],[126,8,137,6],[126,10,137,8],[126,20,137,18,"index"],[126,25,137,23],[126,27,137,25],[127,6,138,4,"title"],[127,11,138,9],[127,13,138,11,"tip"],[127,16,138,14],[127,17,138,15,"title"],[127,22,138,20],[128,6,139,4,"description"],[128,17,139,15],[128,19,139,17,"tip"],[128,22,139,20],[128,23,139,21,"description"],[128,34,139,32],[129,6,140,4,"icon"],[129,10,140,8],[129,12,140,10,"tip"],[129,15,140,13],[129,16,140,14,"icon"],[129,20,140,18],[130,6,141,4,"order"],[130,11,141,9],[130,13,141,11,"index"],[131,4,142,2],[131,5,142,3],[131,6,142,4],[131,7,142,5],[132,2,143,0],[133,0,143,1],[133,3]],"functionMap":{"names":["<global>","usePhotographyGuides","fetchGuides","defaultTips.map$argument_0","fallbackToStaticTips","staticTips.map$argument_0","useEffect$argument_0","getPhotographyGuides"],"mappings":"AAA;OC0B;kCCK;gCCI;QDM;GDwC;+BGE;0CCI;MDM;GHG;YKE;GLE;CDG;OOM;wBF0B;IEM;CPC"},"hasCjsExports":false},"type":"js/module"}]}