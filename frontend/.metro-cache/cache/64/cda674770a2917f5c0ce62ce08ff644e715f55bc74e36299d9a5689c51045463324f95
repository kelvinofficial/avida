{"dependencies":[{"name":"expo/virtual/env","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dgHc21cgR+buKc7O3/dChhD5JJk=","exportNames":["*"],"imports":1}},{"name":"zustand","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":33,"index":33}}],"key":"POPvx7yS3Y3wz+S/9OAefiXNs0Q=","exportNames":["*"],"imports":1}},{"name":"expo-constants","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":34},"end":{"line":2,"column":39,"index":73}}],"key":"pPv5KzfRT0rL6NCr7G9k0o4d1W8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _s = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"useFeatureSettingsStore\", {\n    enumerable: true,\n    get: function () {\n      return useFeatureSettingsStore;\n    }\n  });\n  Object.defineProperty(exports, \"useInitializeFeatureSettings\", {\n    enumerable: true,\n    get: function () {\n      return useInitializeFeatureSettings;\n    }\n  });\n  var _expoVirtualEnv = require(_dependencyMap[0], \"expo/virtual/env\");\n  var _zustand = require(_dependencyMap[1], \"zustand\");\n  var _expoConstants = require(_dependencyMap[2], \"expo-constants\");\n  var Constants = _interopDefault(_expoConstants);\n  const API_URL = Constants.default.expoConfig?.extra?.backendUrl || _expoVirtualEnv.env.EXPO_PUBLIC_BACKEND_URL || '';\n\n  // Feature settings interface matching backend response\n\n  // Default settings (used as fallback)\n  const DEFAULT_SETTINGS = {\n    show_view_count: true,\n    show_save_count: true,\n    show_listing_stats: true,\n    show_seller_stats: true,\n    show_distance: true,\n    show_time_ago: true,\n    show_negotiable_badge: true,\n    show_featured_badge: true,\n    location_mode: 'region',\n    default_country: 'TZ',\n    allow_country_change: false,\n    currency: 'TZS',\n    currency_symbol: 'TSh',\n    currency_position: 'before'\n  };\n  // Cache duration: 5 minutes\n  const CACHE_DURATION = 5 * 60 * 1000;\n  const useFeatureSettingsStore = (0, _zustand.create)((set, get) => ({\n    settings: DEFAULT_SETTINGS,\n    isLoading: false,\n    error: null,\n    lastFetched: null,\n    fetchSettings: async () => {\n      const state = get();\n\n      // Don't fetch if already loading\n      if (state.isLoading) return;\n\n      // Check cache - don't refetch if recently fetched\n      if (state.lastFetched && Date.now() - state.lastFetched < CACHE_DURATION) {\n        return;\n      }\n      set({\n        isLoading: true,\n        error: null\n      });\n      try {\n        const response = await fetch(`${API_URL}/api/feature-settings`);\n        if (!response.ok) {\n          throw new Error('Failed to fetch feature settings');\n        }\n        const data = await response.json();\n        set({\n          settings: {\n            ...DEFAULT_SETTINGS,\n            ...data\n          },\n          isLoading: false,\n          lastFetched: Date.now()\n        });\n      } catch (error) {\n        console.error('Error fetching feature settings:', error);\n        set({\n          isLoading: false,\n          error: error instanceof Error ? error.message : 'Unknown error'\n          // Keep default settings on error\n        });\n      }\n    },\n    // Helper methods for common checks\n    shouldShowViewCount: () => get().settings.show_view_count,\n    shouldShowSaveCount: () => get().settings.show_save_count,\n    shouldShowDistance: () => get().settings.show_distance,\n    shouldShowTimeAgo: () => get().settings.show_time_ago,\n    shouldShowNegotiableBadge: () => get().settings.show_negotiable_badge,\n    shouldShowFeaturedBadge: () => get().settings.show_featured_badge,\n    formatPrice: price => {\n      const {\n        currency_symbol,\n        currency_position\n      } = get().settings;\n      const formattedNumber = price.toLocaleString();\n      if (currency_position === 'before') {\n        return `${currency_symbol} ${formattedNumber}`;\n      }\n      return `${formattedNumber} ${currency_symbol}`;\n    }\n  }));\n\n  // Export a hook for easy initialization\n  const useInitializeFeatureSettings = () => {\n    _s();\n    const fetchSettings = useFeatureSettingsStore(state => state.fetchSettings);\n    return fetchSettings;\n  };\n  _s(useInitializeFeatureSettings, \"e86dPHIW+8oHDQAi8m7qymTgkxY=\", false, function () {\n    return [useFeatureSettingsStore];\n  });\n});","lineCount":123,"map":[[13,2,63,0,"Object"],[13,8,63,0],[13,9,63,0,"defineProperty"],[13,23,63,0],[13,24,63,0,"exports"],[13,31,63,0],[14,4,63,0,"enumerable"],[14,14,63,0],[15,4,63,0,"get"],[15,7,63,0],[15,18,63,0,"get"],[15,19,63,0],[16,6,63,0],[16,13,63,0,"useFeatureSettingsStore"],[16,36,63,0],[17,4,63,0],[18,2,63,0],[19,2,126,0,"Object"],[19,8,126,0],[19,9,126,0,"defineProperty"],[19,23,126,0],[19,24,126,0,"exports"],[19,31,126,0],[20,4,126,0,"enumerable"],[20,14,126,0],[21,4,126,0,"get"],[21,7,126,0],[21,18,126,0,"get"],[21,19,126,0],[22,6,126,0],[22,13,126,0,"useInitializeFeatureSettings"],[22,41,126,0],[23,4,126,0],[24,2,126,0],[25,2,129,2],[25,6,129,2,"_expoVirtualEnv"],[25,21,129,2],[25,24,129,2,"require"],[25,31,129,2],[25,32,129,2,"_dependencyMap"],[25,46,129,2],[26,2,1,0],[26,6,1,0,"_zustand"],[26,14,1,0],[26,17,1,0,"require"],[26,24,1,0],[26,25,1,0,"_dependencyMap"],[26,39,1,0],[27,2,2,0],[27,6,2,0,"_expoConstants"],[27,20,2,0],[27,23,2,0,"require"],[27,30,2,0],[27,31,2,0,"_dependencyMap"],[27,45,2,0],[28,2,2,0],[28,6,2,0,"Constants"],[28,15,2,0],[28,18,2,0,"_interopDefault"],[28,33,2,0],[28,34,2,0,"_expoConstants"],[28,48,2,0],[29,2,4,0],[29,8,4,6,"API_URL"],[29,15,4,13],[29,18,4,16,"Constants"],[29,27,4,25],[29,28,4,25,"default"],[29,35,4,25],[29,36,4,26,"expoConfig"],[29,46,4,36],[29,48,4,38,"extra"],[29,53,4,43],[29,55,4,45,"backendUrl"],[29,65,4,55],[29,69,4,55,"_expoVirtualEnv"],[29,84,4,55],[29,85,4,55,"env"],[29,88,4,55],[29,89,4,55,"EXPO_PUBLIC_BACKEND_URL"],[29,112,4,94],[29,116,4,98],[29,118,4,100],[31,2,6,0],[33,2,25,0],[34,2,26,0],[34,8,26,6,"DEFAULT_SETTINGS"],[34,24,26,39],[34,27,26,42],[35,4,27,2,"show_view_count"],[35,19,27,17],[35,21,27,19],[35,25,27,23],[36,4,28,2,"show_save_count"],[36,19,28,17],[36,21,28,19],[36,25,28,23],[37,4,29,2,"show_listing_stats"],[37,22,29,20],[37,24,29,22],[37,28,29,26],[38,4,30,2,"show_seller_stats"],[38,21,30,19],[38,23,30,21],[38,27,30,25],[39,4,31,2,"show_distance"],[39,17,31,15],[39,19,31,17],[39,23,31,21],[40,4,32,2,"show_time_ago"],[40,17,32,15],[40,19,32,17],[40,23,32,21],[41,4,33,2,"show_negotiable_badge"],[41,25,33,23],[41,27,33,25],[41,31,33,29],[42,4,34,2,"show_featured_badge"],[42,23,34,21],[42,25,34,23],[42,29,34,27],[43,4,35,2,"location_mode"],[43,17,35,15],[43,19,35,17],[43,27,35,25],[44,4,36,2,"default_country"],[44,19,36,17],[44,21,36,19],[44,25,36,23],[45,4,37,2,"allow_country_change"],[45,24,37,22],[45,26,37,24],[45,31,37,29],[46,4,38,2,"currency"],[46,12,38,10],[46,14,38,12],[46,19,38,17],[47,4,39,2,"currency_symbol"],[47,19,39,17],[47,21,39,19],[47,26,39,24],[48,4,40,2,"currency_position"],[48,21,40,19],[48,23,40,21],[49,2,41,0],[49,3,41,1],[50,2,60,0],[51,2,61,0],[51,8,61,6,"CACHE_DURATION"],[51,22,61,20],[51,25,61,23],[51,26,61,24],[51,29,61,27],[51,31,61,29],[51,34,61,32],[51,38,61,36],[52,2,63,7],[52,8,63,13,"useFeatureSettingsStore"],[52,31,63,36],[52,34,63,39],[52,38,63,39,"create"],[52,46,63,45],[52,47,63,45,"create"],[52,53,63,45],[52,55,63,68],[52,56,63,69,"set"],[52,59,63,72],[52,61,63,74,"get"],[52,64,63,77],[52,70,63,83],[53,4,64,2,"settings"],[53,12,64,10],[53,14,64,12,"DEFAULT_SETTINGS"],[53,30,64,28],[54,4,65,2,"isLoading"],[54,13,65,11],[54,15,65,13],[54,20,65,18],[55,4,66,2,"error"],[55,9,66,7],[55,11,66,9],[55,15,66,13],[56,4,67,2,"lastFetched"],[56,15,67,13],[56,17,67,15],[56,21,67,19],[57,4,69,2,"fetchSettings"],[57,17,69,15],[57,19,69,17],[57,25,69,17,"fetchSettings"],[57,26,69,17],[57,31,69,29],[58,6,70,4],[58,12,70,10,"state"],[58,17,70,15],[58,20,70,18,"get"],[58,23,70,21],[58,24,70,22],[58,25,70,23],[60,6,72,4],[61,6,73,4],[61,10,73,8,"state"],[61,15,73,13],[61,16,73,14,"isLoading"],[61,25,73,23],[61,27,73,25],[63,6,75,4],[64,6,76,4],[64,10,76,8,"state"],[64,15,76,13],[64,16,76,14,"lastFetched"],[64,27,76,25],[64,31,76,29,"Date"],[64,35,76,33],[64,36,76,34,"now"],[64,39,76,37],[64,40,76,38],[64,41,76,39],[64,44,76,42,"state"],[64,49,76,47],[64,50,76,48,"lastFetched"],[64,61,76,59],[64,64,76,62,"CACHE_DURATION"],[64,78,76,76],[64,80,76,78],[65,8,77,6],[66,6,78,4],[67,6,80,4,"set"],[67,9,80,7],[67,10,80,8],[68,8,80,10,"isLoading"],[68,17,80,19],[68,19,80,21],[68,23,80,25],[69,8,80,27,"error"],[69,13,80,32],[69,15,80,34],[70,6,80,39],[70,7,80,40],[70,8,80,41],[71,6,82,4],[71,10,82,8],[72,8,83,6],[72,14,83,12,"response"],[72,22,83,20],[72,25,83,23],[72,31,83,29,"fetch"],[72,36,83,34],[72,37,83,35],[72,40,83,38,"API_URL"],[72,47,83,45],[72,70,83,68],[72,71,83,69],[73,8,85,6],[73,12,85,10],[73,13,85,11,"response"],[73,21,85,19],[73,22,85,20,"ok"],[73,24,85,22],[73,26,85,24],[74,10,86,8],[74,16,86,14],[74,20,86,18,"Error"],[74,25,86,23],[74,26,86,24],[74,60,86,58],[74,61,86,59],[75,8,87,6],[76,8,89,6],[76,14,89,12,"data"],[76,18,89,16],[76,21,89,19],[76,27,89,25,"response"],[76,35,89,33],[76,36,89,34,"json"],[76,40,89,38],[76,41,89,39],[76,42,89,40],[77,8,91,6,"set"],[77,11,91,9],[77,12,91,10],[78,10,92,8,"settings"],[78,18,92,16],[78,20,92,18],[79,12,92,20],[79,15,92,23,"DEFAULT_SETTINGS"],[79,31,92,39],[80,12,92,41],[80,15,92,44,"data"],[81,10,92,49],[81,11,92,50],[82,10,93,8,"isLoading"],[82,19,93,17],[82,21,93,19],[82,26,93,24],[83,10,94,8,"lastFetched"],[83,21,94,19],[83,23,94,21,"Date"],[83,27,94,25],[83,28,94,26,"now"],[83,31,94,29],[83,32,94,30],[84,8,95,6],[84,9,95,7],[84,10,95,8],[85,6,96,4],[85,7,96,5],[85,8,96,6],[85,15,96,13,"error"],[85,20,96,18],[85,22,96,20],[86,8,97,6,"console"],[86,15,97,13],[86,16,97,14,"error"],[86,21,97,19],[86,22,97,20],[86,56,97,54],[86,58,97,56,"error"],[86,63,97,61],[86,64,97,62],[87,8,98,6,"set"],[87,11,98,9],[87,12,98,10],[88,10,99,8,"isLoading"],[88,19,99,17],[88,21,99,19],[88,26,99,24],[89,10,100,8,"error"],[89,15,100,13],[89,17,100,15,"error"],[89,22,100,20],[89,34,100,32,"Error"],[89,39,100,37],[89,42,100,40,"error"],[89,47,100,45],[89,48,100,46,"message"],[89,55,100,53],[89,58,100,56],[90,10,101,8],[91,8,102,6],[91,9,102,7],[91,10,102,8],[92,6,103,4],[93,4,104,2],[93,5,104,3],[94,4,106,2],[95,4,107,2,"shouldShowViewCount"],[95,23,107,21],[95,25,107,23,"shouldShowViewCount"],[95,26,107,23],[95,31,107,29,"get"],[95,34,107,32],[95,35,107,33],[95,36,107,34],[95,37,107,35,"settings"],[95,45,107,43],[95,46,107,44,"show_view_count"],[95,61,107,59],[96,4,108,2,"shouldShowSaveCount"],[96,23,108,21],[96,25,108,23,"shouldShowSaveCount"],[96,26,108,23],[96,31,108,29,"get"],[96,34,108,32],[96,35,108,33],[96,36,108,34],[96,37,108,35,"settings"],[96,45,108,43],[96,46,108,44,"show_save_count"],[96,61,108,59],[97,4,109,2,"shouldShowDistance"],[97,22,109,20],[97,24,109,22,"shouldShowDistance"],[97,25,109,22],[97,30,109,28,"get"],[97,33,109,31],[97,34,109,32],[97,35,109,33],[97,36,109,34,"settings"],[97,44,109,42],[97,45,109,43,"show_distance"],[97,58,109,56],[98,4,110,2,"shouldShowTimeAgo"],[98,21,110,19],[98,23,110,21,"shouldShowTimeAgo"],[98,24,110,21],[98,29,110,27,"get"],[98,32,110,30],[98,33,110,31],[98,34,110,32],[98,35,110,33,"settings"],[98,43,110,41],[98,44,110,42,"show_time_ago"],[98,57,110,55],[99,4,111,2,"shouldShowNegotiableBadge"],[99,29,111,27],[99,31,111,29,"shouldShowNegotiableBadge"],[99,32,111,29],[99,37,111,35,"get"],[99,40,111,38],[99,41,111,39],[99,42,111,40],[99,43,111,41,"settings"],[99,51,111,49],[99,52,111,50,"show_negotiable_badge"],[99,73,111,71],[100,4,112,2,"shouldShowFeaturedBadge"],[100,27,112,25],[100,29,112,27,"shouldShowFeaturedBadge"],[100,30,112,27],[100,35,112,33,"get"],[100,38,112,36],[100,39,112,37],[100,40,112,38],[100,41,112,39,"settings"],[100,49,112,47],[100,50,112,48,"show_featured_badge"],[100,69,112,67],[101,4,114,2,"formatPrice"],[101,15,114,13],[101,17,114,16,"price"],[101,22,114,29],[101,26,114,34],[102,6,115,4],[102,12,115,10],[103,8,115,12,"currency_symbol"],[103,23,115,27],[104,8,115,29,"currency_position"],[105,6,115,47],[105,7,115,48],[105,10,115,51,"get"],[105,13,115,54],[105,14,115,55],[105,15,115,56],[105,16,115,57,"settings"],[105,24,115,65],[106,6,116,4],[106,12,116,10,"formattedNumber"],[106,27,116,25],[106,30,116,28,"price"],[106,35,116,33],[106,36,116,34,"toLocaleString"],[106,50,116,48],[106,51,116,49],[106,52,116,50],[107,6,118,4],[107,10,118,8,"currency_position"],[107,27,118,25],[107,32,118,30],[107,40,118,38],[107,42,118,40],[108,8,119,6],[108,15,119,13],[108,18,119,16,"currency_symbol"],[108,33,119,31],[108,37,119,35,"formattedNumber"],[108,52,119,50],[108,54,119,52],[109,6,120,4],[110,6,121,4],[110,13,121,11],[110,16,121,14,"formattedNumber"],[110,31,121,29],[110,35,121,33,"currency_symbol"],[110,50,121,48],[110,52,121,50],[111,4,122,2],[112,2,123,0],[112,3,123,1],[112,4,123,2],[112,5,123,3],[114,2,125,0],[115,2,126,7],[115,8,126,13,"useInitializeFeatureSettings"],[115,36,126,41],[115,39,126,44,"useInitializeFeatureSettings"],[115,40,126,44],[115,45,126,50],[116,4,126,50,"_s"],[116,6,126,50],[117,4,127,2],[117,10,127,8,"fetchSettings"],[117,23,127,21],[117,26,127,24,"useFeatureSettingsStore"],[117,49,127,47],[117,50,127,48,"state"],[117,55,127,53],[117,59,127,57,"state"],[117,64,127,62],[117,65,127,63,"fetchSettings"],[117,78,127,76],[117,79,127,77],[118,4,128,2],[118,11,128,9,"fetchSettings"],[118,24,128,22],[119,2,129,0],[119,3,129,1],[120,2,129,2,"_s"],[120,4,129,2],[120,5,126,13,"useInitializeFeatureSettings"],[120,33,126,41],[121,4,126,41],[121,12,127,24,"useFeatureSettingsStore"],[121,35,127,47],[122,2,127,47],[123,0,127,47],[123,3]],"functionMap":{"names":["<global>","create$argument_0","fetchSettings","shouldShowViewCount","shouldShowSaveCount","shouldShowDistance","shouldShowTimeAgo","shouldShowNegotiableBadge","shouldShowFeaturedBadge","formatPrice","useInitializeFeatureSettings","useFeatureSettingsStore$argument_0"],"mappings":"AAA;oEC8D;iBCM;GDmC;uBEG,oCF;uBGC,oCH;sBIC,kCJ;qBKC,kCL;6BMC,0CN;2BOC,wCP;eQE;GRQ;EDC;4CUG;gDCC,4BD;CVE"},"hasCjsExports":false},"type":"js/module"}]}