{"dependencies":[{"name":"./storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":11,"column":0,"index":298},"end":{"line":11,"column":36,"index":334}}],"key":"3rLtLV8J3gSw9c8Ep8Wpc3w/Yxg=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/Platform","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dV3bI3NOD8bfMzaIniMaFGy/nn8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function(g,r,_i,a,m,e,d){\"use strict\";Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,\"default\",{enumerable:!0,get:function(){return h}}),e.cacheFirstFetch=i,e.getCachedSync=l,e.setCacheSync=E,e.preloadCacheToMemory=async function(){return},Object.defineProperty(e,\"CACHE_KEYS\",{enumerable:!0,get:function(){return u}}),Object.defineProperty(e,\"CacheManager\",{enumerable:!0,get:function(){return _}});var t=r(d[0]);r(d[1]);const n={STALE_TIME:3e5,MAX_AGE:864e5,PREFIX:'@cache_'},c=1;async function s(s,o={}){try{const i=`${n.PREFIX}${s}`,S=await t.Storage.getItem(i);if(!S)return null;const l=JSON.parse(S),E=Date.now(),u=o.maxAge??n.MAX_AGE,_=o.staleTime??n.STALE_TIME,h=o.version??c;if(l.version!==h)return await t.Storage.removeItem(i),null;if(E-l.timestamp>u)return await t.Storage.removeItem(i),null;const I=E-l.timestamp>_;return{data:l.data,isStale:I}}catch(t){return console.warn('[CacheManager] Error reading cache:',t),null}}async function o(s,o,i={}){try{const S=`${n.PREFIX}${s}`,l={data:o,timestamp:Date.now(),version:i.version??c};await t.Storage.setItem(S,JSON.stringify(l))}catch(t){console.warn('[CacheManager] Error writing cache:',t)}}async function i(t,n,c={}){const i=await s(t,c);if(i)return i.isStale&&n().then(n=>o(t,n,c)).catch(t=>console.warn('[CacheManager] Background refresh failed:',t)),{data:i.data,isFromCache:!0,refresh:async()=>{const s=await n();return await o(t,s,c),s}};try{const s=await n();return await o(t,s,c),{data:s,isFromCache:!1,refresh:async()=>{const s=await n();return await o(t,s,c),s}}}catch(t){return console.error('[CacheManager] Fetch failed:',t),{data:null,isFromCache:!1,refresh:n}}}const S=new Map;function l(t){const s=`${n.PREFIX}${t}`;if(S.has(s))return S.get(s);try{const t=localStorage.getItem(s);if(!t)return null;const o=JSON.parse(t),i=Date.now();return o.version!==c||i-o.timestamp>n.MAX_AGE?null:(S.set(s,o.data),o.data)}catch{return null}return null}function E(t,s){const o=`${n.PREFIX}${t}`;S.set(o,s);try{const t={data:s,timestamp:Date.now(),version:c};localStorage.setItem(o,JSON.stringify(t))}catch{}}const u={HOME_LISTINGS:'home_listings',HOME_CATEGORIES:'home_categories',FEATURED_LISTINGS:'featured_listings',FEATURED_SELLERS:'featured_sellers',USER_FAVORITES:'user_favorites',USER_PROFILE:'user_profile',SEARCH_SUGGESTIONS:'search_suggestions',BUSINESS_PROFILES:'business_profiles',LISTING_DETAIL:t=>`listing_${t}`,CATEGORY_LISTINGS:(t,n)=>`category_${t}_p${n}`,SELLER_PROFILE:t=>`seller_${t}`,USER_SETTINGS:'user_settings',NOTIFICATIONS:'notifications',NOTIFICATION_PREFS:'notification_prefs',OFFERS:'offers',MESSAGES:'messages',CHALLENGES:'challenges',LEADERBOARD:'leaderboard',STREAKS:'streaks',SMART_ALERTS:'smart_alerts',CREDITS:'credits',SALES:'sales',ORDERS:'orders',PURCHASES:'purchases',BADGES:'badges',INVOICES:'invoices',SAVED_LISTINGS:'saved_listings',BLOG_POSTS:'blog_posts',BLOG_POST:t=>`blog_${t}`,PROPERTY_LISTINGS:'property_listings',AUTO_LISTINGS:'auto_listings',HELP_ARTICLES:'help_articles',SUPPORT_TICKETS:'support_tickets',CHECKOUT:t=>`checkout_${t}`},_={getCached:s,setCache:o,clearCache:async function(c){try{const s=`${n.PREFIX}${c}`;await t.Storage.removeItem(s)}catch(t){console.warn('[CacheManager] Error clearing cache:',t)}},clearAllCache:async function(){try{const t=[];for(let c=0;c<localStorage.length;c++){const s=localStorage.key(c);s?.startsWith(n.PREFIX)&&t.push(s)}t.forEach(t=>localStorage.removeItem(t))}catch(t){console.warn('[CacheManager] Error clearing all cache:',t)}},cacheFirstFetch:i,getCachedSync:l,setCacheSync:E,KEYS:u};var h=_});","lineCount":1,"map":[[1,91,351,0,"Object"],[1,98,351,0,"defineProperty"],[1,113,351,0,"e"],[1,115,351,0],[1,126,351,0,"enumerable"],[1,138,351,0],[1,140,351,0,"get"],[1,144,351,0],[1,162,351,0,"_default"],[1,163,351,0],[1,167,136,0,"e"],[1,169,136,0,"cacheFirstFetch"],[1,187,203,0,"e"],[1,189,203,0,"getCachedSync"],[1,205,239,0,"e"],[1,207,239,0,"setCacheSync"],[1,222,272,0,"e"],[1,224,272,0,"preloadCacheToMemory"],[1,245,272,7,"async"],[1,262,273,29],[1,268,299,0],[1,270,302,0,"Object"],[1,277,302,0,"defineProperty"],[1,292,302,0,"e"],[1,294,302,0],[1,308,302,0,"enumerable"],[1,320,302,0],[1,322,302,0,"get"],[1,326,302,0],[1,344,302,0,"CACHE_KEYS"],[1,345,302,0],[1,349,340,0,"Object"],[1,356,340,0,"defineProperty"],[1,371,340,0,"e"],[1,373,340,0],[1,389,340,0,"enumerable"],[1,401,340,0],[1,403,340,0,"get"],[1,407,340,0],[1,425,340,0,"CacheManager"],[1,426,340,0],[1,430,11,0],[1,434,11,0,"_storage"],[1,436,11,0,"r"],[1,438,11,0,"d"],[1,440,11,0],[1,444,11,36,"r"],[1,446,11,36,"d"],[1,448,11,36],[1,452,15,0],[1,458,15,6,"CACHE_CONFIG"],[1,460,15,21],[1,461,17,2,"STALE_TIME"],[1,472,17,12],[1,476,19,2,"MAX_AGE"],[1,484,19,9],[1,490,21,2,"PREFIX"],[1,497,21,10],[1,508,37,6,"CACHE_VERSION"],[1,510,37,22],[1,512,43,0,"async"],[1,527,43,15,"getCached"],[1,529,43,28,"key"],[1,531,43,41,"options"],[1,533,43,65],[1,534,43,66],[1,537,44,2],[1,541,45,4],[1,547,45,10,"cacheKey"],[1,549,45,21],[1,552,45,24,"CACHE_CONFIG"],[1,554,45,37,"PREFIX"],[1,563,45,46,"key"],[1,567,46,10,"cached"],[1,575,46,25,"Storage"],[1,577,46,32,"Storage"],[1,585,46,33,"getItem"],[1,593,46,41,"cacheKey"],[1,596,48,4],[1,600,48,9,"cached"],[1,602,48,17],[1,609,48,24],[1,614,50,4],[1,620,50,10,"entry"],[1,622,50,33,"JSON"],[1,627,50,38,"parse"],[1,633,50,44,"cached"],[1,636,51,10,"now"],[1,638,51,16,"Date"],[1,643,51,21,"now"],[1,649,52,10,"maxAge"],[1,651,52,19,"options"],[1,653,52,27,"maxAge"],[1,661,52,37,"CACHE_CONFIG"],[1,663,52,50,"MAX_AGE"],[1,671,53,10,"staleTime"],[1,673,53,22,"options"],[1,675,53,30,"staleTime"],[1,686,53,43,"CACHE_CONFIG"],[1,688,53,56,"STALE_TIME"],[1,699,54,10,"version"],[1,701,54,20,"options"],[1,703,54,28,"version"],[1,712,54,39,"CACHE_VERSION"],[1,714,57,4],[1,717,57,8,"entry"],[1,719,57,14,"version"],[1,729,57,26,"version"],[1,731,59,6],[1,744,58,12,"Storage"],[1,746,58,19,"Storage"],[1,754,58,20,"removeItem"],[1,765,58,31,"cacheKey"],[1,768,59,13],[1,773,63,4],[1,776,63,8,"now"],[1,778,63,14,"entry"],[1,780,63,20,"timestamp"],[1,790,63,32,"maxAge"],[1,792,65,6],[1,805,64,12,"Storage"],[1,807,64,19,"Storage"],[1,815,64,20,"removeItem"],[1,826,64,31,"cacheKey"],[1,829,65,13],[1,834,69,4],[1,840,69,10,"isStale"],[1,842,69,20,"now"],[1,844,69,26,"entry"],[1,846,69,32,"timestamp"],[1,856,69,44,"staleTime"],[1,858,71,4],[1,864,71,11],[1,865,71,13,"data"],[1,870,71,19,"entry"],[1,872,71,25,"data"],[1,877,71,31,"isStale"],[1,887,72,2],[1,888,72,4],[1,894,72,11,"error"],[1,897,74,4],[1,904,73,4,"console"],[1,912,73,12,"warn"],[1,917,73,17],[1,955,73,56,"error"],[1,958,74,11],[1,962,75,2],[1,963,76,0],[1,964,81,0,"async"],[1,979,81,15,"setCache"],[1,981,81,27,"key"],[1,983,81,40,"data"],[1,985,81,49,"options"],[1,987,81,73],[1,988,81,74],[1,991,82,2],[1,995,83,4],[1,1001,83,10,"cacheKey"],[1,1003,83,21],[1,1006,83,24,"CACHE_CONFIG"],[1,1008,83,37,"PREFIX"],[1,1017,83,46,"key"],[1,1021,84,10,"entry"],[1,1023,84,33],[1,1024,85,6,"data"],[1,1031,86,6,"timestamp"],[1,1041,86,17,"Date"],[1,1046,86,22,"now"],[1,1052,87,6,"version"],[1,1060,87,15,"options"],[1,1062,87,23,"version"],[1,1071,87,34,"CACHE_VERSION"],[1,1080,89,10,"Storage"],[1,1082,89,17,"Storage"],[1,1090,89,18,"setItem"],[1,1098,89,26,"cacheKey"],[1,1100,89,36,"JSON"],[1,1105,89,41,"stringify"],[1,1115,89,51,"entry"],[1,1118,90,2],[1,1119,90,4],[1,1125,90,11,"error"],[1,1128,91,4,"console"],[1,1136,91,12,"warn"],[1,1141,91,17],[1,1179,91,56,"error"],[1,1181,92,2],[1,1182,93,0],[1,1183,136,7,"async"],[1,1198,136,22,"cacheFirstFetch"],[1,1200,137,2,"key"],[1,1202,138,2,"fetcher"],[1,1204,139,2,"options"],[1,1206,139,26],[1,1207,139,27],[1,1210,146,2],[1,1216,146,8,"cached"],[1,1224,146,23,"getCached"],[1,1226,146,36,"key"],[1,1228,146,41,"options"],[1,1231,149,2],[1,1234,149,6,"cached"],[1,1236,158,4],[1,1243,151,8,"cached"],[1,1245,151,15,"isStale"],[1,1254,153,6,"fetcher"],[1,1258,154,9,"then"],[1,1263,154,14,"freshData"],[1,1266,154,27,"setCache"],[1,1268,154,36,"key"],[1,1270,154,41,"freshData"],[1,1272,154,52,"options"],[1,1276,155,9,"catch"],[1,1282,155,15,"err"],[1,1285,155,22,"console"],[1,1293,155,30,"warn"],[1,1298,155,35],[1,1342,155,80,"err"],[1,1346,158,11],[1,1347,159,6,"data"],[1,1352,159,12,"cached"],[1,1354,159,19,"data"],[1,1359,160,6,"isFromCache"],[1,1372,160,19],[1,1374,161,6,"refresh"],[1,1382,161,15,"async"],[1,1392,162,8],[1,1398,162,14,"freshData"],[1,1406,162,32,"fetcher"],[1,1410,164,8],[1,1423,163,14,"setCache"],[1,1425,163,23,"key"],[1,1427,163,28,"freshData"],[1,1429,163,39,"options"],[1,1432,164,15,"freshData"],[1,1436,170,2],[1,1440,171,4],[1,1446,171,10,"freshData"],[1,1454,171,28,"fetcher"],[1,1458,173,4],[1,1471,172,10,"setCache"],[1,1473,172,19,"key"],[1,1475,172,24,"freshData"],[1,1477,172,35,"options"],[1,1480,173,11],[1,1481,174,6,"data"],[1,1486,174,12,"freshData"],[1,1488,175,6,"isFromCache"],[1,1501,175,19],[1,1503,176,6,"refresh"],[1,1511,176,15,"async"],[1,1521,177,8],[1,1527,177,14,"data"],[1,1535,177,27,"fetcher"],[1,1539,179,8],[1,1552,178,14,"setCache"],[1,1554,178,23,"key"],[1,1556,178,28,"data"],[1,1558,178,34,"options"],[1,1561,179,15,"data"],[1,1564,182,2],[1,1565,182,4],[1,1571,182,11,"error"],[1,1574,184,4],[1,1581,183,4,"console"],[1,1589,183,12,"error"],[1,1595,183,18],[1,1626,183,50,"error"],[1,1629,184,11],[1,1630,185,6,"data"],[1,1635,185,12],[1,1640,186,6,"isFromCache"],[1,1653,186,19],[1,1655,187,6,"refresh"],[1,1663,187,15,"fetcher"],[1,1665,189,2],[1,1666,190,0],[1,1667,201,0],[1,1673,201,6,"memoryCache"],[1,1675,201,38],[1,1679,201,42,"Map"],[1,1683,203,7],[1,1692,203,16,"getCachedSync"],[1,1694,203,33,"key"],[1,1697,205,2],[1,1703,205,8,"cacheKey"],[1,1705,205,19],[1,1708,205,22,"CACHE_CONFIG"],[1,1710,205,35,"PREFIX"],[1,1719,205,44,"key"],[1,1723,206,2],[1,1726,206,6,"memoryCache"],[1,1728,206,18,"has"],[1,1732,206,22,"cacheKey"],[1,1735,207,4],[1,1742,207,11,"memoryCache"],[1,1744,207,23,"get"],[1,1748,207,27,"cacheKey"],[1,1751,212,4],[1,1755,213,6],[1,1761,213,12,"cached"],[1,1763,213,21,"localStorage"],[1,1776,213,34,"getItem"],[1,1784,213,42,"cacheKey"],[1,1787,215,6],[1,1791,215,11,"cached"],[1,1793,215,19],[1,1800,215,26],[1,1805,217,6],[1,1811,217,12,"entry"],[1,1813,217,35,"JSON"],[1,1818,217,40,"parse"],[1,1824,217,46,"cached"],[1,1827,218,12,"now"],[1,1829,218,18,"Date"],[1,1834,218,23,"now"],[1,1840,221,6],[1,1847,221,10,"entry"],[1,1849,221,16,"version"],[1,1859,221,28,"CACHE_VERSION"],[1,1862,222,10,"now"],[1,1864,222,16,"entry"],[1,1866,222,22,"timestamp"],[1,1876,222,34,"CACHE_CONFIG"],[1,1878,222,47,"MAX_AGE"],[1,1886,221,50],[1,1892,225,6,"memoryCache"],[1,1894,225,18,"set"],[1,1898,225,22,"cacheKey"],[1,1900,225,32,"entry"],[1,1902,225,38,"data"],[1,1908,227,13,"entry"],[1,1910,227,19,"data"],[1,1915,228,4],[1,1916,228,6],[1,1922,229,6],[1,1929,229,13],[1,1933,230,4],[1,1934,233,2],[1,1941,233,9],[1,1945,234,0],[1,1946,239,7],[1,1955,239,16,"setCacheSync"],[1,1957,239,32,"key"],[1,1959,239,45,"data"],[1,1962,240,2],[1,1968,240,8,"cacheKey"],[1,1970,240,19],[1,1973,240,22,"CACHE_CONFIG"],[1,1975,240,35,"PREFIX"],[1,1984,240,44,"key"],[1,1988,243,2,"memoryCache"],[1,1990,243,14,"set"],[1,1994,243,18,"cacheKey"],[1,1996,243,28,"data"],[1,1999,247,4],[1,2003,248,6],[1,2009,248,12,"entry"],[1,2011,248,35],[1,2012,249,8,"data"],[1,2019,250,8,"timestamp"],[1,2029,250,19,"Date"],[1,2034,250,24,"now"],[1,2040,251,8,"version"],[1,2048,251,17,"CACHE_VERSION"],[1,2051,253,6,"localStorage"],[1,2064,253,19,"setItem"],[1,2072,253,27,"cacheKey"],[1,2074,253,37,"JSON"],[1,2079,253,42,"stringify"],[1,2089,253,52,"entry"],[1,2092,254,4],[1,2093,254,6],[1,2099,255,6],[1,2100,267,0],[1,2101,302,7],[1,2107,302,13,"CACHE_KEYS"],[1,2109,302,26],[1,2110,303,2,"HOME_LISTINGS"],[1,2124,303,17],[1,2140,304,2,"HOME_CATEGORIES"],[1,2156,304,19],[1,2174,305,2,"FEATURED_LISTINGS"],[1,2192,305,21],[1,2212,306,2,"FEATURED_SELLERS"],[1,2229,306,20],[1,2248,307,2,"USER_FAVORITES"],[1,2263,307,18],[1,2280,308,2,"USER_PROFILE"],[1,2293,308,16],[1,2308,309,2,"SEARCH_SUGGESTIONS"],[1,2327,309,22],[1,2348,310,2,"BUSINESS_PROFILES"],[1,2366,310,21],[1,2386,311,2,"LISTING_DETAIL"],[1,2401,311,19,"id"],[1,2404,311,34],[1,2415,311,45,"id"],[1,2419,312,2,"CATEGORY_LISTINGS"],[1,2437,312,21,"CATEGORY_LISTINGS"],[1,2438,312,22,"categoryId"],[1,2440,312,42,"page"],[1,2444,312,59],[1,2456,312,71,"categoryId"],[1,2462,312,86,"page"],[1,2466,313,2,"SELLER_PROFILE"],[1,2481,313,19,"slug"],[1,2484,313,36],[1,2494,313,46,"slug"],[1,2498,315,2,"USER_SETTINGS"],[1,2512,315,17],[1,2528,316,2,"NOTIFICATIONS"],[1,2542,316,17],[1,2558,317,2,"NOTIFICATION_PREFS"],[1,2577,317,22],[1,2598,318,2,"OFFERS"],[1,2605,318,10],[1,2614,319,2,"MESSAGES"],[1,2623,319,12],[1,2634,320,2,"CHALLENGES"],[1,2645,320,14],[1,2658,321,2,"LEADERBOARD"],[1,2670,321,15],[1,2684,322,2,"STREAKS"],[1,2692,322,11],[1,2702,323,2,"SMART_ALERTS"],[1,2715,323,16],[1,2730,324,2,"CREDITS"],[1,2738,324,11],[1,2748,325,2,"SALES"],[1,2754,325,9],[1,2762,326,2,"ORDERS"],[1,2769,326,10],[1,2778,327,2,"PURCHASES"],[1,2788,327,13],[1,2800,328,2,"BADGES"],[1,2807,328,10],[1,2816,329,2,"INVOICES"],[1,2825,329,12],[1,2836,330,2,"SAVED_LISTINGS"],[1,2851,330,18],[1,2868,331,2,"BLOG_POSTS"],[1,2879,331,14],[1,2892,332,2,"BLOG_POST"],[1,2902,332,14,"slug"],[1,2905,332,31],[1,2913,332,39,"slug"],[1,2917,333,2,"PROPERTY_LISTINGS"],[1,2935,333,21],[1,2955,334,2,"AUTO_LISTINGS"],[1,2969,334,17],[1,2985,335,2,"HELP_ARTICLES"],[1,2999,335,17],[1,3015,336,2,"SUPPORT_TICKETS"],[1,3031,336,19],[1,3049,337,2,"CHECKOUT"],[1,3058,337,13,"id"],[1,3061,337,28],[1,3073,337,40,"id"],[1,3078,340,13,"CacheManager"],[1,3080,340,28],[1,3081,341,2,"getCached"],[1,3093,342,2,"setCache"],[1,3104,343,2,"clearCache"],[1,3115,98,0,"async"],[1,3130,98,26,"key"],[1,3133,99,2],[1,3137,100,4],[1,3143,100,10,"cacheKey"],[1,3145,100,21],[1,3148,100,24,"CACHE_CONFIG"],[1,3150,100,37,"PREFIX"],[1,3159,100,46,"key"],[1,3169,101,10,"Storage"],[1,3171,101,17,"Storage"],[1,3179,101,18,"removeItem"],[1,3190,101,29,"cacheKey"],[1,3192,102,2],[1,3193,102,4],[1,3199,102,11,"error"],[1,3202,103,4,"console"],[1,3210,103,12,"warn"],[1,3215,103,17],[1,3254,103,57,"error"],[1,3256,104,2],[1,3257,105,0],[1,3259,344,2,"clearAllCache"],[1,3273,110,0,"async"],[1,3290,112,4],[1,3294,113,6],[1,3300,113,12,"keysToRemove"],[1,3302,113,37],[1,3305,114,6],[1,3309,114,11],[1,3313,114,15,"i"],[1,3315,114,19],[1,3317,114,22,"i"],[1,3319,114,26,"localStorage"],[1,3332,114,39,"length"],[1,3339,114,47,"i"],[1,3343,114,52],[1,3344,115,8],[1,3350,115,14,"key"],[1,3352,115,20,"localStorage"],[1,3365,115,33,"key"],[1,3369,115,37,"i"],[1,3372,116,12,"key"],[1,3375,116,17,"startsWith"],[1,3386,116,28,"CACHE_CONFIG"],[1,3388,116,41,"PREFIX"],[1,3397,117,10,"keysToRemove"],[1,3399,117,23,"push"],[1,3404,117,28,"key"],[1,3406,119,6],[1,3407,120,6,"keysToRemove"],[1,3409,120,19,"forEach"],[1,3417,120,27,"key"],[1,3420,120,34,"localStorage"],[1,3433,120,47,"removeItem"],[1,3444,120,58,"key"],[1,3447,121,4],[1,3448,121,6],[1,3454,121,13,"error"],[1,3457,122,6,"console"],[1,3465,122,14,"warn"],[1,3470,122,19],[1,3513,122,63,"error"],[1,3515,123,4],[1,3516,125,0],[1,3518,345,2,"cacheFirstFetch"],[1,3536,346,2,"getCachedSync"],[1,3552,347,2,"setCacheSync"],[1,3567,348,2,"KEYS"],[1,3572,348,8,"CACHE_KEYS"],[1,3575,351,0],[1,3579,351,0,"_default"],[1,3581,351,15,"CacheManager"],[1,3582,351,28],[1,3585]],"functionMap":{"names":["<global>","getCached","setCache","clearCache","clearAllCache","keysToRemove.forEach$argument_0","cacheFirstFetch","fetcher.then$argument_0","fetcher.then._catch$argument_0","refresh","getCachedSync","setCacheSync","Storage.setItem._catch$argument_0","preloadCacheToMemory","CACHE_KEYS.LISTING_DETAIL","CACHE_KEYS.CATEGORY_LISTINGS","CACHE_KEYS.SELLER_PROFILE","CACHE_KEYS.BLOG_POST","CACHE_KEYS.CHECKOUT"],"mappings":"AAA;AC0C;CDiC;AEK;CFY;AGK;CHO;AIK;2BCU,mCD;CJK;OMW;cCkB,8CD;eEC,qEF;eGM;OHI;eGW;OHI;CNU;OUa;CV+B;OWK;cC0B,QD;CXE;OaK;Cb2B;kBcY,+Bd;qBeC,uEf;kBgBC,kChB;aiBmB,gCjB;YkBK,gClB"},"hasCjsExports":false},"type":"js/module"}]}