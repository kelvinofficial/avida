<analysis>**original_problem_statement**:
The user's primary goal is a complete performance overhaul of the entire application (web, mobile, admin) to eliminate 100% of loading indicators like skeletons and spinners. This must be replaced with a cache-first, instant-rendering architecture with optimistic UI updates. Key deliverables include achieving a PageSpeed score of 90+, enforcing a Zero loaders policy on the mobile app, and a systematic refactoring of the codebase to remove all loader components.

**PRODUCT REQUIREMENTS**:
1.  **Eliminate All Loaders**: Remove every skeleton, shimmer, spinner, and progress bar from the mobile app, website, and admin dashboard.
2.  **Implement Cache-First Rendering**: Use a unified caching layer to render cached data instantly, then fetch fresh data in the background.
3.  **Adopt Optimistic UI**: User actions should update the UI instantly and sync in the background.
4.  **Achieve PageSpeed 90+**: Target Core Web Vitals (LCP < 2.5s, INP < 200ms, CLS < 0.1).
5.  **Mobile App Instant Feel**: Enforce a Zero loaders policy.
6.  **Systematically Refactor**: Delete all loader components and their dependencies.
7.  **Deliverables**: Provide updated code, CDN/cache configs, Lighthouse reports, and a Performance Playbook document.

**User's preferred language**: English

**what currently exists?**
The application consists of a React Native/Expo frontend (for web and mobile), a FastAPI backend, and a MongoDB database. The agent is in Phase 5 of a Zero Loaders performance overhaul, focused on refactoring the main frontend at . So far, 18 pages have been refactored to use a  hook.

In the current session, the agent has analyzed the remaining files and discovered a new bug while planning the next batch of refactoring work.

**Last working item**:
- **Last item agent was working**: The agent was investigating the codebase to identify the next set of pages for refactoring. During this process, it discovered a bug in  (an undefined  variable) and identified  as the next refactoring target.
- **Status**: IN PROGRESS
- **Agent Testing Done**: N
- **Which testing method agent to use?**: frontend testing agent
- **User Testing Done**: N

**All Pending/In progress Issue list**:
- **Issue 1**: Bug in  (P0 - BLOCKER)
- **Issue 2**: Locations data not loading on admin page (P2)

**Issues Detail**:
- **Issue 1**:
    - **Description**: An undefined  variable is referenced on line 378 of , which will likely cause a runtime crash. This was discovered during analysis for the next refactoring batch.
    - **Attempted fixes**: None.
    - **Next debug checklist**:
        1.  View .
        2.  Identify the code block using the  variable.
        3.  Determine if this variable should be declared or if the code block is dead and should be removed.
        4.  Apply the fix using .
    - **Why fix this issue and what will be achieved with the fix?**: This is a high-priority bug that breaks the leaderboard page. Fixing it will restore functionality and prevent crashes.
    - **Status**: NOT STARTED
    - **Is recurring issue?**: N
    - **Should Test frontend/backend/both after fix?**: Frontend
    - **Blocked on other issue**: None.
- **Issue 2**:
    - **Description**: On the admin page , the Locations data is not loading. This is a pre-existing, low-priority issue.
    - **Status**: NOT STARTED
    - **Is recurring issue?**: N

**In progress Task List**:
- **Task 1: Performance Overhaul - Phase 5: Mobile App Performance (P0)**
    - **Description**: This is the primary ongoing task. The goal is to enforce the Zero loaders policy across the main frontend application by systematically replacing page-level  components with a cache-first rendering pattern.
    - **Where to resume**: The immediate next step is to fix the bug in . After that, refactor  to remove its page-level loader. Following that, continue identifying and refactoring the remaining ~60 files with loaders.
    - **What will be achieved with this?**: The application will render content instantly from a cache, eliminating loading states and providing a faster user experience, moving closer to the 100% Zero Loaders goal.
    - **Status**: IN PROGRESS
    - **Should Test frontend/backend/both after fix?**: Frontend
    - **Blocked on something**: Issue 1 (Bug in ) should be fixed first before extensive testing.

**Upcoming and Future Tasks**
**Upcoming Tasks**:
*   **Complete Phase 5 Refactor (P0)**: Continue refactoring the ~60 remaining frontend files in  to remove all page-level loading indicators.
*   **Performance Validation (P1)**: Audit and defer all non-critical third-party scripts. Set up performance logging and generate Lighthouse reports to validate a PageSpeed score of 90+.

**Future Tasks**:
*   **Full API Integrations**: (DEFERRED) Connect demo-mode features to live APIs (Google Analytics, Ahrefs/Semrush, social media platforms).
*   **Multi-Language Content Generation**: (DEFERRED) Adapt the AI content engine for German and Swahili.

**Completed work in this session**
- No code changes or new features have been completed yet. The session has focused on analysis, planning, and bug discovery.

**Earlier issues found/mentioned but not fixed**
- **Issue 1**: Locations not loading in admin settings ().
    - **Debug checklist**: Check the network tab for failed requests, examine  for location-fetching logic.
    - **Why to solve this issue and what will be achieved with this?**: To restore location management functionality.
    - **Should Test frontend/backend/both after fix?**: Frontend
    - **Is recurring issue?**: N

**Known issue recurrence from previous fork**
- None.

**Code Architecture**


**Key Technical Concepts**
- **Frontend**: React Native / Expo, TypeScript. This single codebase serves both web and mobile.
- **State Management & Caching**: The core pattern involves a  hook that renders cached data immediately while fetching fresh data in the background. State is managed via .

**key DB schema**
- No changes were made to the database schema.

**changes in tech stack**
- No new technologies were added.

**All files of reference**
- **Files Analyzed in this Session**:
  - 
  - 
  - 
  - 
  - 
  - 
  - 
  - 
  - 
- **Core Logic Files**:
  - 
  - 

**Areas that need refactoring**:
- Approximately 60 files in  still use page-level  loaders and need to be updated to the cache-first pattern.

**key api endpoints**
- No new API endpoints were created.

**Critical Info for New Agent**
- **BUG FIRST**: A blocking bug was found in  (undefined  variable). This must be fixed before proceeding with any other task.
- **File Structure Correction**: The previous handoff mentioned a  directory, which is incorrect. The actual pages are located directly in .
- **The Task is a Large-Scale Refactor**: The primary goal is to continue removing loaders. Do not try to fix all remaining files at once. Continue the iterative, batch-processing approach (1-3 files at a time).
- **Use the Existing Pattern**: The  hook and  are the foundation for this refactor. Follow the pattern established in the 18 already-completed files.
- **Testing is Mandatory**: After fixing the bug and refactoring the next batch, use the  to verify the changes.

**documents and test reports created in this job**
- **/app/test_reports/iteration_4.json**
- **/app/test_reports/iteration_5.json**
- **/app/memory/PRD.md**

**Last 10 User Messages and any pending HUMAN messages**
- : User approved the agent's plan to continue the refactoring task.
- : (From previous session) User wants the agent to continue with the next batch of refactoring.

**Project Health Check:**
- **Working**: All three parts of the application (admin, frontend, backend) are functional.
- **Mocked**: Core AI SEO features remain as advanced mocks with simulated data.
- **Broken**: The  page is currently broken due to a newly discovered bug.

**3rd Party Integrations**
- **OpenAI GPT-5.2**: Used for the AI Content Engine, accessed via the  library with the Emergent LLM Key.

**Testing status**
- **Testing agent used after significant changes**: NO (Not yet in this session).
- **Troubleshoot agent used after agent stuck in loop**: NO.
- **Test files created**: None.
- **Known regressions**: A new regression was discovered in . A pre-existing issue with locations not loading in the admin panel remains.

**Credentials to test flow:**
- **Admin Panel User**:  / 

**What agent forgot to execute**
- The agent has not forgotten anything. It correctly analyzed the codebase, identified a discrepancy in the previous handoff summary, and discovered a new, critical bug before proceeding with implementation. The work is proceeding as planned.</analysis>
